{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/assign.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/keys.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/classCallCheck.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/createClass.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/fn/json/stringify.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/fn/object/assign.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/fn/object/define-property.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/fn/object/keys.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_a-function.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_an-object.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_array-includes.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_cof.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_core.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_ctx.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_defined.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_descriptors.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_dom-create.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_export.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_fails.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_global.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_has.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_hide.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_iobject.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_is-object.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_library.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_object-assign.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_object-dp.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_object-gops.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_object-keys.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_object-pie.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_object-sap.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_property-desc.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_shared-key.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_shared.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_to-integer.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_to-iobject.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_to-length.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_to-object.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_to-primitive.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/_uid.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/es6.object.assign.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/_core-js@2.6.1@core-js/library/modules/es6.object.keys.js","webpack:///./src/index.js","webpack:///./src/lib/log.js","webpack:///./src/model/env.js","webpack:///./src/model/log_data.js","webpack:///./src/model/type_maps.js","webpack:///./src/plugins/leave.js"],"names":["Log","use","leave","Vhall_User_Log","Vhall_User_Actions","actions","plugin","plugins","push","config","s","start","loadPlugins","updateSid","xmlHttp","XMLHttpRequest","reportUrl","process","baseParams","env","reportParams","logData","forEach","call","key","value","Date","now","Math","floor","random","action","data","ret","analysisKeys","k","exParams","behavior","async","urlKeys","during","event","params","business_uid","id","token","window","btoa","src","open","send","type","localStorage","setItem","location","href","error","console","log","path","pathname","_key","find","indexOf","item","actionKeys","url","document","URL","ua","navigator","userAgent","refer","referrer","getItem","width","screen","height","language","activity_id","visitor_id","pf","bu","ENTER","LEAVE","CHAT","SHARE","history","onstatechange","track","setEnv","recoverReportParams","addEventListener","state","e","pushState","replaceState","apply","arguments"],"mappings":"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","file":"log_sdk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.6.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = true;\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","import Log from './lib/log'\r\nimport { actions } from './model/type_maps'\r\nimport leave from './plugins/leave'\r\n\r\nLog.use(leave)\r\n\r\nexport default {\r\n  Vhall_User_Log: Log,\r\n  Vhall_User_Actions: actions\r\n}\r\n","import env from '../model/env'\r\nimport logData from '../model/log_data'\r\nimport { urlKeys, actionKeys } from '../model/type_maps'\r\n/**\r\n * 日志类\r\n */\r\nclass Log {\r\n  static plugins = []\r\n  static use(plugin) {\r\n    Log.plugins.push(plugin)\r\n  }\r\n  s = 0\r\n  start = 0\r\n  /**\r\n   * 构造方法\r\n   * @param {obj} config\r\n   * new Log({\r\n   *  pf: 7,\r\n   *  bu:5\r\n   * })\r\n   */\r\n  constructor(config) {\r\n    this.loadPlugins()\r\n    this.updateSid()\r\n    this.xmlHttp = new XMLHttpRequest()\r\n    this.reportUrl = process.env.REPORT_URL\r\n    this.baseParams = env\r\n    this.reportParams = Object.assign({}, logData, config)\r\n  }\r\n  /**\r\n   * 初始化插件\r\n   */\r\n  loadPlugins() {\r\n    Log.plugins.forEach(plugin => {\r\n      plugin.call(this, Log)\r\n    })\r\n  }\r\n  /**\r\n   *\r\n   * @param {string} key 环境参数key\r\n   * @param {string} value 环境参数值\r\n   */\r\n  setEnv(key, value) {\r\n    this.baseParams[key] = value\r\n  }\r\n  /**\r\n   *\r\n   * @param {string} key 上报参数key\r\n   * @param {string} value 上报参数值\r\n   */\r\n  set(key, value) {\r\n    this.reportParams[key] = value\r\n  }\r\n  updateSid() {\r\n    this.s = `${Date.now()}${Math.floor(Math.random() * 10000)}`\r\n    this.start = Date.now()\r\n  }\r\n  recoverReportParams() {\r\n    delete this.reportParams['consumer_uid']\r\n    delete this.reportParams['service_names']\r\n  }\r\n  /**\r\n   * 上报方法\r\n   * @param {string} action 上报动作\r\n   * @param {string} event 上报事件内容\r\n   */\r\n  track(action, data) {\r\n    try {\r\n      let ret = this.analysisKeys(action)\r\n      if (ret) {\r\n        let k = ret.k\r\n        let exParams = data || {}\r\n        exParams.behavior = ret.behavior\r\n        let async = true\r\n        if (k === urlKeys['/site/'][1].k) {\r\n          async = false\r\n          let during = Math.floor(Date.now() - this.start)\r\n          exParams.event = during\r\n        }\r\n        let params = Object.assign(\r\n          {},\r\n          this.baseParams,\r\n          this.reportParams,\r\n          exParams\r\n        )\r\n        // let args = ''\r\n        // for (let key in params) {\r\n        //   args += `${args ? '&' : ''}${key}=${params[key]}`\r\n        // }\r\n        // let token = window.btoa(args)\r\n        if (params.business_uid && params.business_uid != '0') {\r\n          let id = `${Date.now()}${Math.floor(Math.random() * 10000)}`\r\n          let token = window.btoa(JSON.stringify(params))\r\n          let src = `${this.reportUrl}?k=${k}&id=${id}&s=${\r\n            this.s\r\n          }&token=${token}`\r\n          this.xmlHttp.open('GET', src, async)\r\n          this.xmlHttp.send()\r\n          if(action&&action.type==='url'&&action.value===0){\r\n            localStorage.setItem('prev', location.href)\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 解析上报动作获取k值\r\n   * @param {string} action 上报动作\r\n   */\r\n  analysisKeys(action) {\r\n    let ret = 0\r\n    switch (action.type) {\r\n      case 'url':\r\n        let path = window.location.pathname\r\n        let _key = Object.keys(urlKeys).find(item => {\r\n          return path.indexOf(item) != -1\r\n        })\r\n        if (_key) {\r\n          ret = urlKeys[_key][action.value]\r\n        }\r\n        break\r\n      case 'action':\r\n        ret = actionKeys[action.value]\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    return ret\r\n  }\r\n}\r\n\r\nexport default Log\r\n","/**\r\n * 上报数据环境对象\r\n */\r\n\r\nconst env = {\r\n  url: document.URL,\r\n  // title: document.title,\r\n  ua: navigator.userAgent,\r\n  refer: document.referrer || localStorage.getItem('prev'),\r\n  width: window.screen.width,\r\n  height: window.screen.height,\r\n  language: navigator.language\r\n  // platform: navigator.platform\r\n  // cookie: document.cookieA\r\n}\r\n\r\nexport default env\r\n","/**\r\n * 上报数据对象\r\n */\r\n\r\nconst data = {\r\n  business_uid: 0,\r\n  // consumer_uid: 0,\r\n  activity_id: 0,\r\n  visitor_id: 0,\r\n  behavior: 0,\r\n  // event: '',\r\n  // service_names: '',\r\n  pf: -1,\r\n  bu: ''\r\n}\r\n\r\nexport default data\r\n","const actions = {\r\n  ENTER: {\r\n    type: 'url',\r\n    value: 0\r\n  },\r\n  LEAVE: {\r\n    type: 'url',\r\n    value: 1\r\n  },\r\n  CHAT: {\r\n    type: 'action',\r\n    value: 2\r\n  },\r\n  SHARE: {\r\n    type: 'action',\r\n    value: 3\r\n  }\r\n}\r\n\r\nconst urlKeys = {\r\n  '/watch/': {\r\n    0: {\r\n      k: 602007,\r\n      behavior: 6\r\n    },\r\n    1: {\r\n      k: 602009,\r\n      behavior: 8\r\n    }\r\n  },\r\n  '/subscribe/': {\r\n    0: {\r\n      k: 602003,\r\n      behavior: 2\r\n    },\r\n    1: {\r\n      k: 602004,\r\n      behavior: 3\r\n    }\r\n  },\r\n  '/site/': {\r\n    0: {\r\n      k: 602001,\r\n      behavior: 0\r\n    },\r\n    1: {\r\n      k: 602002,\r\n      behavior: 1\r\n    }\r\n  }\r\n}\r\n\r\nconst actionKeys = {\r\n  2: {\r\n    k: 602008,\r\n    behavior: 7\r\n  },\r\n  3: {\r\n    k: 602010,\r\n    behavior: 9\r\n  }\r\n}\r\n\r\nexport { actions, urlKeys, actionKeys }\r\n","import { actions } from '../model/type_maps'\r\n\r\nexport default function() {\r\n  if (!history.onstatechange) {\r\n    let url = location.href\r\n    history.onstatechange = e => {\r\n      // localStorage.setItem('prev', location.href)\r\n      this.track(actions.LEAVE)\r\n      this.setEnv('refer', location.href)\r\n      this.updateSid()\r\n      this.recoverReportParams()\r\n    }\r\n    window.addEventListener('popstate', e => {\r\n      history.onstatechange({ state: e.state, url: url })\r\n      url = location.href\r\n    })\r\n    window.addEventListener('beforeunload', e => {\r\n      history.onstatechange({ state: e.state, url: url })\r\n    })\r\n    ;(function(history) {\r\n      let pushState = history.pushState\r\n      let replaceState = history.replaceState\r\n      history.pushState = function(state) {\r\n        if (typeof history.onstatechange == 'function') {\r\n          history.onstatechange({ state: state, url: location.href })\r\n        }\r\n        return pushState.apply(history, arguments)\r\n      }\r\n      history.replaceState = function(state) {\r\n        if (typeof history.onstatechange == 'function') {\r\n          history.onstatechange({ state: state, url: location.href })\r\n        }\r\n        return replaceState.apply(history, arguments)\r\n      }\r\n    })(window.history)\r\n  }\r\n}\r\n"],"sourceRoot":""}