(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{200:function(t,i,a){},247:function(t,i,a){"use strict";var s=a(200);a.n(s).a},303:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.activity.countDown<1800||"LIVING"===t.activity.status?s("div",{staticClass:"v-success"},[s("img",{staticClass:"v-img",attrs:{src:a(199),alt:""}}),t._v(" "),t._m(0),t._v(" "),s("button",{staticClass:"primary-button",on:{click:t.accountSubmit}},[t._v("进入直播")])]):s("div",{staticClass:"v-success"},[s("img",{staticClass:"v-img",attrs:{src:a(199),alt:""}}),t._v(" "),s("p",{staticClass:"v-success-title"},["APPOINT"===t.activity.viewCondition?s("span",[t._v("报名成功")]):"NONE"===t.activity.viewCondition?s("span",[t._v("预约成功")]):t._e()]),t._v(" "),s("p",[t._v("活动将于"),s("span",{staticClass:"v-red"},[t._v(t._s(t.activity.startTime))]),t._v("准时开播")])])};s._withStripped=!0;var e=a(30),n=a.n(e),c=a(10),r=a.n(c),o=a(63),v=a(186),d=a(229),h=a(50),l=a(3),u=a(188),p=a(189),m={mixins:[v.a],data:()=>({activity:{viewCondition:"",status:"",startTime:"",countDown:""},user:{phone:"",isApplay:!1,isOrder:!1},vhallParams:{token:"",appId:"",channelId:"",accountId:""}}),mounted(){},components:{},created(){this.getInfo()},computed:Object(h.c)("tokenMager",{chatParams:t=>t.chatParams}),watch:{},methods:r()({},Object(h.b)("tokenMager",{setChatParams:l.b}),{accountSubmit(){this.doAuth("/live/"+this.$route.params.id)},initSdk(){this.service=new d.a,this.service.init(this.vhallParams)},handleActivityStart(t){this.activity.countDown=1799},getInfo(){var t=this;return n()(function*(){yield o.a.getWebinarinfo({activityId:t.$route.params.id,__errHandler:!0}).then(function(i){200===i.code&&(t.activity.viewCondition=i.data.activity.viewCondition,t.activity.status=i.data.activity.status,t.activity.startTime=i.data.activity.startTime,t.activity.countDown=i.data.activity.countDown,t.user.isApplay=i.data.joinInfo.isApplay,t.user.isOrder=i.data.joinInfo.isOrder,("LIVING"===t.activity.status||t.activity.countDown<=1799)&&("APPOINT"===t.activity.viewCondition?i.data.joinInfo.isApplay&&t.doAuth("/live/"+t.$route.params.id):i.data.joinInfo.isOrder&&"NONE"===t.activity.viewCondition&&t.doAuth("/live/"+t.$route.params.id)))}),t.getToken()})()},getToken(){("APPOINT"===this.activity.viewCondition&&this.user.isApplay||"APPOINT"!==this.activity.viewCondition)&&(this.chatParams.token?(this.vhallParams=this.chatParams,this.$nextTick(()=>{this.initSdk(),this.service.regHandler(u.a.BEGIN_LIVE,this.handleActivityStart)})):o.a.getRegactivity({activityId:this.$route.params.id,__errHandler:!0}).then(t=>{200===t.code&&p.a.getSdkparams({activityId:this.$route.params.id,activityUserId:t.data.activityUserId,__errHandler:!0}).then(t=>{200===t.code&&(this.vhallParams.token=t.data.token,this.vhallParams.appId=t.data.appId,this.vhallParams.channelId=t.data.channelRoom,this.vhallParams.accountId=t.data.accountId,this.setChatParams(this.vhallParams),this.$nextTick(()=>{this.initSdk(),this.service.regHandler(u.a.BEGIN_LIVE,this.handleActivityStart)}))})}))}})},y=(a(247),a(1)),I=Object(y.a)(m,s,[function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"v-start-title"},[i("span",[this._v("直播将要开始啦")])])}],!1,null,"3ffef81c",null);I.options.__file="src/pages/guide/success.vue";i.default=I.exports}}]);
//# sourceMappingURL=6.40cf41a5.js.map