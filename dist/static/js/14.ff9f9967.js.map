{"version":3,"sources":["webpack:///./src/pages/user/activity-list.vue?846c","webpack:///./src/pages/user/activity-list.vue?160d","webpack:///./src/pages/user/activity-list.vue?c47b","webpack:///src/pages/user/activity-list.vue","webpack:///./src/pages/user/activity-list.vue"],"names":["_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_activity_list_vue_vue_type_style_index_0_id_d0e67a48_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","href","MOBILE_HOST","_v","ref","on","scroll","$event","scrollEvent","_l","tableList","itemData","key","id","src","imgUrl","alt","status","_e","_s","title","hostNickname","startTime","_withStripped","user_activity_listvue_type_script_lang_js_","mixins","login_mixin","data","searchParams","page","pageSize","totalPage","total","imgHost","mounted","_this","getLoginInfo","storeLoginInfo","$router","replace","getDataList","debounce","e","$refs","bscroll","offsetHeight","scrollTop","scrollHeight","computed","extends_default","Object","vuex_esm","loginInfo","state","props","watch","methods","mutation_types","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","setTimeout","apply","_this2","$get","activity_service","GET_ACTIVITY_LIST","then","res","list","map","item","indx","$imgHost","forEach","element","push","parseInt","currPage","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/14.ff9f9967.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./activity-list.vue?vue&type=style&index=0&id=d0e67a48&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./activity-list.vue?vue&type=style&index=0&id=d0e67a48&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"v-activity-list\" }, [\n    _c(\n      \"a\",\n      {\n        staticClass: \"v-return-userinfo clearfix\",\n        attrs: { href: _vm.MOBILE_HOST + \"userinfo\" }\n      },\n      [\n        _c(\"i\", { staticClass: \"iconfont icon-jiantouzuo fl\" }),\n        _vm._v(\"我的活动\\n  \")\n      ]\n    ),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      {\n        ref: \"bscroll\",\n        staticClass: \"v-list\",\n        on: {\n          scroll: function($event) {\n            _vm.scrollEvent($event)\n          }\n        }\n      },\n      [\n        _c(\n          \"ol\",\n          { staticClass: \"bscroll-container\" },\n          _vm._l(_vm.tableList, function(itemData) {\n            return _c(\"li\", { key: itemData.id }, [\n              _c(\n                \"a\",\n                {\n                  staticClass: \"clearfix\",\n                  attrs: { href: _vm.MOBILE_HOST + \"guide/\" + itemData.id }\n                },\n                [\n                  _c(\"div\", { staticClass: \"v-activity-img fl\" }, [\n                    _c(\"img\", { attrs: { src: itemData.imgUrl, alt: \"\" } }),\n                    _vm._v(\" \"),\n                    itemData.status == \"PREPARE\"\n                      ? _c(\"span\", { staticClass: \"live-state\" }, [\n                          _vm._v(\"预告\")\n                        ])\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    itemData.status == \"LIVING\"\n                      ? _c(\"span\", { staticClass: \"live-state\" }, [\n                          _c(\"i\", { staticClass: \"live-point\" }),\n                          _vm._v(\"直播中\")\n                        ])\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    itemData.status == \"PLAYBACK\"\n                      ? _c(\"span\", { staticClass: \"live-state\" }, [\n                          _vm._v(\"回放\")\n                        ])\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    itemData.status == \"FINISH\"\n                      ? _c(\"span\", { staticClass: \"live-state\" }, [\n                          _vm._v(\"结束\")\n                        ])\n                      : _vm._e()\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"v-content-block fr\" }, [\n                    _c(\"p\", { staticClass: \"v-title\" }, [\n                      _vm._v(\n                        \"\\n              \" +\n                          _vm._s(itemData.title) +\n                          \"\\n            \"\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"p\", { staticClass: \"v-sponsor\" }, [\n                      _vm._v(\n                        \"\\n              \" +\n                          _vm._s(itemData.hostNickname) +\n                          \"\\n            \"\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"p\", { staticClass: \"v-time\" }, [\n                      _vm._v(\n                        \"\\n              \" +\n                          _vm._s(itemData.startTime) +\n                          \"\\n            \"\n                      )\n                    ])\n                  ])\n                ]\n              )\n            ])\n          })\n        )\n      ]\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./activity-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./activity-list.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"v-activity-list\">\r\n    <a :href=\"MOBILE_HOST+'userinfo'\" class=\"v-return-userinfo clearfix\">\r\n      <i class=\"iconfont icon-jiantouzuo fl\"></i>我的活动\r\n    </a>\r\n    <div class=\"v-list\" ref=\"bscroll\" @scroll=\"scrollEvent($event)\">\r\n      <ol class=\"bscroll-container\">\r\n        <li  v-for=\"itemData in tableList\" :key=\"itemData.id\">\r\n          <a :href=\"MOBILE_HOST+'guide/'+itemData.id\" class=\"clearfix\">\r\n            <div class=\"v-activity-img fl\">\r\n              <img :src=\"itemData.imgUrl\" alt=\"\">\r\n              <span v-if='itemData.status==\"PREPARE\"' class=\"live-state\">预告</span>\r\n              <span v-if='itemData.status==\"LIVING\"' class=\"live-state\"><i class=\"live-point\"></i>直播中</span>\r\n              <span v-if='itemData.status==\"PLAYBACK\"' class=\"live-state\">回放</span>\r\n              <span v-if='itemData.status==\"FINISH\"' class=\"live-state\">结束</span>\r\n            </div>\r\n            <div class=\"v-content-block fr\">\r\n              <p class=\"v-title\">\r\n                {{itemData.title}}\r\n              </p>\r\n              <!-- <div class=\"v-label-div\">\r\n                <span>\r\n                  柯基\r\n                </span>\r\n                <span>\r\n                  设计峰会\r\n                </span>\r\n              </div> -->\r\n              <p class=\"v-sponsor\">\r\n                {{itemData.hostNickname}}\r\n              </p>\r\n              <p class=\"v-time\">\r\n                {{itemData.startTime}}\r\n              </p>\r\n            </div>\r\n          </a>\r\n        </li>\r\n      </ol>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport loginMixin from 'components/login-mixin'\r\nimport { mapMutations, mapState } from 'vuex'\r\nimport * as types from '../../store/mutation-types.js'\r\n// import BScroll from 'better-scroll'\r\nimport activityService from 'src/api/activity-service'\r\nexport default {\r\n  mixins: [loginMixin],\r\n  data () {\r\n    return {\r\n      MOBILE_HOST: process.env.MOBILE_HOST,\r\n      searchParams: {\r\n        page: 1,\r\n        pageSize: 15,\r\n        totalPage: 0\r\n      },\r\n      tableList: [],\r\n      total: 0,\r\n      imgHost: process.env.IMGHOST + '/'\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.getLoginInfo()) {\r\n      this.storeLoginInfo(this.getLoginInfo())\r\n    } else {\r\n      this.$router.replace('/user')\r\n    }\r\n    this.getDataList()\r\n    this.scrollEvent = this.debounce(e => {\r\n      if (this.$refs.bscroll.offsetHeight + this.$refs.bscroll.scrollTop > this.$refs.bscroll.scrollHeight - 100) {\r\n        this.getDataList()\r\n      }\r\n    }, 50)\r\n    // this.initScroll()\r\n  },\r\n  computed: {\r\n    ...mapState('login', {\r\n      loginInfo: state => state.loginInfo\r\n    })\r\n  },\r\n  props: {\r\n  },\r\n  watch: {\r\n  },\r\n  methods: {\r\n    ...mapMutations('login', {\r\n      storeLoginInfo: types.LOGIN_INFO\r\n    }),\r\n    debounce (func, wait, immediate) {\r\n      var timeout\r\n      return function () {\r\n        var context = this\r\n        var args = arguments\r\n        var later = function () {\r\n          timeout = null\r\n          if (!immediate) func.apply(context, args)\r\n        }\r\n        var callNow = immediate && !timeout\r\n        clearTimeout(timeout)\r\n        timeout = setTimeout(later, wait)\r\n        if (callNow) func.apply(context, args)\r\n      }\r\n    },\r\n    getDataList () {\r\n      this.$get(activityService.GET_ACTIVITY_LIST, this.searchParams).then((res) => {\r\n        res.data.list.map((item, indx) => {\r\n          if (item.imgUrl) {\r\n            item.imgUrl = this.$imgHost + '/' + item.imgUrl\r\n          } else {\r\n            item.imgUrl = '//cnstatic01.e.vhall.com/static/img/v35-webinar.png'\r\n          }\r\n          return item\r\n        })\r\n        res.data.list.forEach(element => {\r\n          this.tableList.push(element)\r\n        })\r\n        this.total = res.data.total\r\n        this.searchParams.page = parseInt(res.data.currPage) + 1\r\n        this.searchParams.totalPage = res.data.totalPage\r\n      })\r\n    }\r\n    // ,\r\n    // initScroll () {\r\n    //   let _this = this\r\n    //   this.$nextTick(() => {\r\n    //     let bscrollDom = this.$refs.bscroll\r\n    //     this.aBScroll = new BScroll(bscrollDom, {\r\n    //       'scrollbar': true,\r\n    //       'click': true,\r\n    //       'mouseWheel': true,\r\n    //       'probeType ': 3,\r\n    //       'pullup': true\r\n    //       // 当 probeType 为 1 的时候，会非实时（屏幕滑动超过一定时间后）派发scroll 事件；当 probeType 为 2 的时候，会在屏幕滑动的过程中实时的派发 scroll 事件；当 probeType 为 3 的时候，不仅在屏幕滑动的过程中，而且在 momentum 滚动动画运行过程中实时派发 scroll 事件。\r\n    //     })\r\n\r\n    //     this.aBScroll.on('scrollEnd', () => {\r\n    //       // 滚动到底部\r\n    //       if (this.aBScroll.y <= (this.aBScroll.maxScrollY)) {\r\n    //         if (_this.searchParams.page <= _this.searchParams.totalPage) {\r\n    //           _this.getDataList()\r\n    //         }\r\n    //       }\r\n    //     })\r\n    //   })\r\n    // }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.v-activity-list {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f5f5f5;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .v-return-userinfo {\r\n    background-color: #f5f5f5;\r\n    display: block;\r\n    width: 100%;\r\n    height: 80px;\r\n    line-height: 80px;\r\n    text-align: center;\r\n    font-size: 32px;\r\n    color: #222;\r\n    padding: 0 30px;\r\n  }\r\n  .v-list {\r\n    width: 100%;\r\n    overflow: auto;\r\n    height: 100%;\r\n    flex: 1;\r\n    position: relative;\r\n    -webkit-overflow-scrolling: touch;\r\n    li {\r\n      width: 100%;\r\n      height: 250px;\r\n      background-color: #fff;\r\n      border-bottom: 1px solid #e2e2e2;\r\n      a {\r\n        display: flex;\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 34px;\r\n        .v-activity-img {\r\n          width: 323px;\r\n          height: 182px;\r\n          position: relative;\r\n          img {\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n          .live-state {\r\n            display: block;\r\n            padding: 8px 15px;\r\n            font-size: 20px;\r\n            color: #fff;\r\n            position: absolute;\r\n            top: 10px;\r\n            left: 10px;\r\n            background-color: rgba(0, 0, 0, 0.6);\r\n            border-radius: 50px;\r\n            .live-point {\r\n              vertical-align: middle;\r\n              display: inline-block;\r\n              width: 8px;\r\n              height: 8px;\r\n              border-radius: 50%;\r\n              background-color: #fc5659;\r\n              margin-right: 8px;\r\n            }\r\n          }\r\n        }\r\n        .v-content-block {\r\n          flex: 1;\r\n          max-width: 356px;\r\n          padding: 8px 0 8px 20px;\r\n          .v-title {\r\n            font-size: 28px;\r\n            color: #222;\r\n            overflow: hidden;\r\n            word-break: break-all;\r\n            text-overflow: ellipsis;\r\n            display: -webkit-box;\r\n            -webkit-line-clamp: 2;\r\n            -webkit-box-orient: vertical;\r\n          }\r\n          .v-label-div {\r\n            span {\r\n              padding: 8px 15px;\r\n              background-color: #f0f1fe;\r\n              border: 1px solid #dbdefd;\r\n              font-size: 20px;\r\n              color: #555555;\r\n              border-radius: 50px;\r\n              margin: 20px 10px 0 0;\r\n              display: inline-block;\r\n            }\r\n          }\r\n          .v-sponsor {\r\n            font-size: 24px;\r\n            color: #555555;\r\n            margin-top: 20px;\r\n          }\r\n          .v-time {\r\n            color: #888888;\r\n            font-size: 21px;\r\n            margin-top: 26px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./activity-list.vue?vue&type=template&id=d0e67a48&scoped=true&\"\nimport script from \"./activity-list.vue?vue&type=script&lang=js&\"\nexport * from \"./activity-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./activity-list.vue?vue&type=style&index=0&id=d0e67a48&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0e67a48\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\vhall\\\\fe_interaction_h5\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('d0e67a48', component.options)\n    } else {\n      api.reload('d0e67a48', component.options)\n    }\n    module.hot.accept(\"./activity-list.vue?vue&type=template&id=d0e67a48&scoped=true&\", function () {\n      api.rerender('d0e67a48', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/user/activity-list.vue\"\nexport default component.exports"],"sourceRoot":""}