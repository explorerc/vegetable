{"version":3,"sources":["webpack:///./src/pages/user/activity-list.vue?846c","webpack:///./src/pages/user/activity-list.vue?160d","webpack:///./src/pages/user/activity-list.vue?c47b","webpack:///src/pages/user/activity-list.vue","webpack:///./src/pages/user/activity-list.vue"],"names":["_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_activity_list_vue_vue_type_style_index_0_id_d0e67a48_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","href","MOBILE_HOST","_v","ref","on","scroll","$event","scrollEvent","_l","tableList","itemData","key","id","src","imgUrl","alt","status","_e","_s","title","hostNickname","startTime","_withStripped","user_activity_listvue_type_script_lang_js_","mixins","login_mixin","data","searchParams","page","pageSize","totalPage","total","imgHost","mounted","_this","getLoginInfo","storeLoginInfo","$router","replace","getDataList","debounce","e","$refs","bscroll","offsetHeight","scrollTop","scrollHeight","computed","extends_default","Object","vuex_esm","loginInfo","state","props","watch","methods","mutation_types","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","setTimeout","apply","_this2","$get","activity_service","GET_ACTIVITY_LIST","then","res","list","map","item","indx","$imgHost","forEach","element","push","parseInt","currPage","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/15.2e816639.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./activity-list.vue?vue&type=style&index=0&id=d0e67a48&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./activity-list.vue?vue&type=style&index=0&id=d0e67a48&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"v-activity-list\" }, [\n    _c(\n      \"a\",\n      {\n        staticClass: \"v-return-userinfo clearfix\",\n        attrs: { href: _vm.MOBILE_HOST + \"user\" }\n      },\n      [\n        _c(\"i\", { staticClass: \"iconfont icon-jiantouzuo fl\" }),\n        _vm._v(\"我的活动\\n  \")\n      ]\n    ),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      {\n        ref: \"bscroll\",\n        staticClass: \"v-list\",\n        on: {\n          scroll: function($event) {\n            _vm.scrollEvent($event)\n          }\n        }\n      },\n      [\n        _c(\n          \"ol\",\n          { staticClass: \"bscroll-container\" },\n          _vm._l(_vm.tableList, function(itemData) {\n            return _c(\"li\", { key: itemData.id }, [\n              _c(\n                \"a\",\n                {\n                  staticClass: \"clearfix\",\n                  attrs: { href: _vm.MOBILE_HOST + \"guide/\" + itemData.id }\n                },\n                [\n                  _c(\"div\", { staticClass: \"v-activity-img fl\" }, [\n                    _c(\"img\", { attrs: { src: itemData.imgUrl, alt: \"\" } }),\n                    _vm._v(\" \"),\n                    itemData.status == \"PREPARE\"\n                      ? _c(\"span\", { staticClass: \"live-state\" }, [\n                          _vm._v(\"预告\")\n                        ])\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    itemData.status == \"LIVING\"\n                      ? _c(\"span\", { staticClass: \"live-state\" }, [\n                          _c(\"i\", { staticClass: \"live-point\" }),\n                          _vm._v(\"直播中\")\n                        ])\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    itemData.status == \"PLAYBACK\"\n                      ? _c(\"span\", { staticClass: \"live-state\" }, [\n                          _vm._v(\"回放\")\n                        ])\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    itemData.status == \"FINISH\"\n                      ? _c(\"span\", { staticClass: \"live-state\" }, [\n                          _vm._v(\"结束\")\n                        ])\n                      : _vm._e()\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"v-content-block fr\" }, [\n                    _c(\"p\", { staticClass: \"v-title\" }, [\n                      _vm._v(\n                        \"\\n              \" +\n                          _vm._s(itemData.title) +\n                          \"\\n            \"\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"p\", { staticClass: \"v-sponsor\" }, [\n                      _vm._v(\n                        \"\\n              \" +\n                          _vm._s(itemData.hostNickname) +\n                          \"\\n            \"\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"p\", { staticClass: \"v-time\" }, [\n                      _vm._v(\n                        \"\\n              \" +\n                          _vm._s(itemData.startTime) +\n                          \"\\n            \"\n                      )\n                    ])\n                  ])\n                ]\n              )\n            ])\n          })\n        )\n      ]\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./activity-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./activity-list.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"v-activity-list\">\n    <a :href=\"MOBILE_HOST+'user'\" class=\"v-return-userinfo clearfix\">\n      <i class=\"iconfont icon-jiantouzuo fl\"></i>我的活动\n    </a>\n    <div class=\"v-list\" ref=\"bscroll\" @scroll=\"scrollEvent($event)\">\n      <ol class=\"bscroll-container\">\n        <li  v-for=\"itemData in tableList\" :key=\"itemData.id\">\n          <a :href=\"MOBILE_HOST+'guide/'+itemData.id\" class=\"clearfix\">\n            <div class=\"v-activity-img fl\">\n              <img :src=\"itemData.imgUrl\" alt=\"\">\n              <span v-if='itemData.status==\"PREPARE\"' class=\"live-state\">预告</span>\n              <span v-if='itemData.status==\"LIVING\"' class=\"live-state\"><i class=\"live-point\"></i>直播中</span>\n              <span v-if='itemData.status==\"PLAYBACK\"' class=\"live-state\">回放</span>\n              <span v-if='itemData.status==\"FINISH\"' class=\"live-state\">结束</span>\n            </div>\n            <div class=\"v-content-block fr\">\n              <p class=\"v-title\">\n                {{itemData.title}}\n              </p>\n              <!-- <div class=\"v-label-div\">\n                <span>\n                  柯基\n                </span>\n                <span>\n                  设计峰会\n                </span>\n              </div> -->\n              <p class=\"v-sponsor\">\n                {{itemData.hostNickname}}\n              </p>\n              <p class=\"v-time\">\n                {{itemData.startTime}}\n              </p>\n            </div>\n          </a>\n        </li>\n      </ol>\n    </div>\n  </div>\n</template>\n<script>\nimport loginMixin from 'components/login-mixin'\nimport { mapMutations, mapState } from 'vuex'\nimport * as types from '../../store/mutation-types.js'\n// import BScroll from 'better-scroll'\nimport activityService from 'src/api/activity-service'\nexport default {\n  mixins: [loginMixin],\n  data () {\n    return {\n      MOBILE_HOST: process.env.MOBILE_HOST,\n      searchParams: {\n        page: 1,\n        pageSize: 15,\n        totalPage: 0\n      },\n      tableList: [],\n      total: 0,\n      imgHost: process.env.IMGHOST + '/'\n    }\n  },\n  mounted () {\n    if (this.getLoginInfo()) {\n      this.storeLoginInfo(this.getLoginInfo())\n    } else {\n      this.$router.replace('/user')\n    }\n    this.getDataList()\n    this.scrollEvent = this.debounce(e => {\n      if (this.$refs.bscroll.offsetHeight + this.$refs.bscroll.scrollTop > this.$refs.bscroll.scrollHeight - 100) {\n        this.getDataList()\n      }\n    }, 50)\n    // this.initScroll()\n  },\n  computed: {\n    ...mapState('login', {\n      loginInfo: state => state.loginInfo\n    })\n  },\n  props: {\n  },\n  watch: {\n  },\n  methods: {\n    ...mapMutations('login', {\n      storeLoginInfo: types.LOGIN_INFO\n    }),\n    debounce (func, wait, immediate) {\n      var timeout\n      return function () {\n        var context = this\n        var args = arguments\n        var later = function () {\n          timeout = null\n          if (!immediate) func.apply(context, args)\n        }\n        var callNow = immediate && !timeout\n        clearTimeout(timeout)\n        timeout = setTimeout(later, wait)\n        if (callNow) func.apply(context, args)\n      }\n    },\n    getDataList () {\n      this.$get(activityService.GET_ACTIVITY_LIST, this.searchParams).then((res) => {\n        res.data.list.map((item, indx) => {\n          if (item.imgUrl) {\n            item.imgUrl = this.$imgHost + '/' + item.imgUrl\n          } else {\n            item.imgUrl = '//cnstatic01.e.vhall.com/static/img/v35-webinar.png'\n          }\n          return item\n        })\n        res.data.list.forEach(element => {\n          this.tableList.push(element)\n        })\n        this.total = res.data.total\n        this.searchParams.page = parseInt(res.data.currPage) + 1\n        this.searchParams.totalPage = res.data.totalPage\n      })\n    }\n    // ,\n    // initScroll () {\n    //   let _this = this\n    //   this.$nextTick(() => {\n    //     let bscrollDom = this.$refs.bscroll\n    //     this.aBScroll = new BScroll(bscrollDom, {\n    //       'scrollbar': true,\n    //       'click': true,\n    //       'mouseWheel': true,\n    //       'probeType ': 3,\n    //       'pullup': true\n    //       // 当 probeType 为 1 的时候，会非实时（屏幕滑动超过一定时间后）派发scroll 事件；当 probeType 为 2 的时候，会在屏幕滑动的过程中实时的派发 scroll 事件；当 probeType 为 3 的时候，不仅在屏幕滑动的过程中，而且在 momentum 滚动动画运行过程中实时派发 scroll 事件。\n    //     })\n\n    //     this.aBScroll.on('scrollEnd', () => {\n    //       // 滚动到底部\n    //       if (this.aBScroll.y <= (this.aBScroll.maxScrollY)) {\n    //         if (_this.searchParams.page <= _this.searchParams.totalPage) {\n    //           _this.getDataList()\n    //         }\n    //       }\n    //     })\n    //   })\n    // }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.v-activity-list {\n  width: 100%;\n  height: 100%;\n  background-color: #f5f5f5;\n  display: flex;\n  flex-direction: column;\n  .v-return-userinfo {\n    background-color: #f5f5f5;\n    display: block;\n    width: 100%;\n    height: 80px;\n    line-height: 80px;\n    text-align: center;\n    font-size: 32px;\n    color: #222;\n    padding: 0 30px;\n  }\n  .v-list {\n    width: 100%;\n    overflow: auto;\n    height: 100%;\n    flex: 1;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    li {\n      width: 100%;\n      height: 250px;\n      background-color: #fff;\n      border-bottom: 1px solid #e2e2e2;\n      a {\n        display: flex;\n        width: 100%;\n        height: 100%;\n        padding: 34px;\n        .v-activity-img {\n          width: 323px;\n          height: 182px;\n          position: relative;\n          img {\n            width: 100%;\n            height: 100%;\n          }\n          .live-state {\n            display: block;\n            padding: 8px 15px;\n            font-size: 20px;\n            color: #fff;\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            background-color: rgba(0, 0, 0, 0.6);\n            border-radius: 50px;\n            .live-point {\n              vertical-align: middle;\n              display: inline-block;\n              width: 8px;\n              height: 8px;\n              border-radius: 50%;\n              background-color: #fc5659;\n              margin-right: 8px;\n            }\n          }\n        }\n        .v-content-block {\n          flex: 1;\n          max-width: 356px;\n          padding: 8px 0 8px 20px;\n          .v-title {\n            font-size: 28px;\n            color: #222;\n            overflow: hidden;\n            word-break: break-all;\n            text-overflow: ellipsis;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n            -webkit-box-orient: vertical;\n          }\n          .v-label-div {\n            span {\n              padding: 8px 15px;\n              background-color: #f0f1fe;\n              border: 1px solid #dbdefd;\n              font-size: 20px;\n              color: #555555;\n              border-radius: 50px;\n              margin: 20px 10px 0 0;\n              display: inline-block;\n            }\n          }\n          .v-sponsor {\n            font-size: 24px;\n            color: #555555;\n            margin-top: 20px;\n          }\n          .v-time {\n            color: #888888;\n            font-size: 21px;\n            margin-top: 26px;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./activity-list.vue?vue&type=template&id=d0e67a48&scoped=true&\"\nimport script from \"./activity-list.vue?vue&type=script&lang=js&\"\nexport * from \"./activity-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./activity-list.vue?vue&type=style&index=0&id=d0e67a48&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0e67a48\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/x.g/Documents/work/fe_interaction_h5/node_modules/_vue-hot-reload-api@2.3.1@vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('d0e67a48', component.options)\n    } else {\n      api.reload('d0e67a48', component.options)\n    }\n    module.hot.accept(\"./activity-list.vue?vue&type=template&id=d0e67a48&scoped=true&\", function () {\n      api.rerender('d0e67a48', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/user/activity-list.vue\"\nexport default component.exports"],"sourceRoot":""}