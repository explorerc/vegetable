{"version":3,"sources":["webpack:///./src/assets/image/qq.png","webpack:///./src/pages/watch/Watch.vue?6c80","webpack:///./src/pages/watch/Watch.vue?7c39","webpack:///./src/pages/watch/empty.vue?2f32","webpack:///src/pages/watch/empty.vue","webpack:///./src/pages/watch/empty.vue?9e48","webpack:///./src/pages/watch/empty.vue","webpack:///src/pages/watch/Watch.vue","webpack:///./src/pages/watch/Watch.vue?9185","webpack:///./src/pages/watch/Watch.vue"],"names":["module","exports","__webpack_require__","p","_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_Watch_vue_vue_type_style_index_0_id_a2747dca_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","domShow","on","orientationchange","$event","activityInfo","statusName","_e","_v","_s","onlineNum","_m","attrs","href","click","subscribe","currentView","tag","paasParams","vhallParams","directives","name","rawName","value","subscribeShow","expression","handleClick","subscribeClick","slot","src","alt","email","placeholder","max-length","errorTips","update:value","focus","emailFocus","successShow","autoClose","successClick","_withStripped","emptyvue_type_template_id_192a1a8e_render","watch_emptyvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","empty","playTypes","PREPARE","LIVING","FINISH","PLAYBACK","playStatuTypes","watch_Watchvue_type_script_lang_js_","mixins","login_mixin","data","activityData","playType","playStatus","token","appId","channelId","accountId","businessUserId","wxShare","wxShareData","timestamp","nonceStr","signature","shareData","title","desc","link","imgUrl","shareUser","shareId","[object Object]","storeLoginInfo","getLoginInfo","computed","extends_default","vuex_esm","state","joinInfo","roomPaas","chatParams","loginInfo","queryId","$route","params","id","$router","go","activityId","initPage","that","window","addEventListener","orientation","methods","setChatParams","mutation_types","storeActivityInfo","storeRoomPaas","storeJoinInfo","sendSubScribe","subScribeShow","doLogin","$config","handlers","$post","activity_service","POST_EMAILSUBSCRIBE","userId","then","res","tempLoginInfo","JSON","parse","stringify_default","emailInput","updateLoginInfo","catch","err","msg","e","action","test","_this","asyncToGenerator_default","initRoomPaas","share","$get","GET_LIVEINFO","activity","setting","status","description","playback","live","GET_ONLINENUM","query","shareid","__errHandler","promise_default","a","resolve","reject","user_service","GET_USERREGACTIVITY","GET_SDKTOKEN","activityUserId","replace","_this2","_url","location","GET_SHARESIGN","url","GET_SHAREINFO","route","wx_share","Watch_component","__webpack_exports__"],"mappings":"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","file":"static/js/8.53595327.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/qq.png\";","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=style&index=0&id=a2747dca&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=style&index=0&id=a2747dca&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"v-watch\" },\n    [\n      _vm.domShow\n        ? _c(\n            \"div\",\n            {\n              staticClass: \"v-hearder clearfix\",\n              on: {\n                orientationchange: function($event) {\n                  _vm.orientationchange($event)\n                }\n              }\n            },\n            [\n              _c(\"span\", { staticClass: \"v-status\" }, [\n                _vm.activityInfo.statusName === \"直播中\" ? _c(\"i\") : _vm._e(),\n                _vm._v(_vm._s(_vm.activityInfo.statusName) + \"\\n    \")\n              ]),\n              _vm._v(\" \"),\n              _vm.activityInfo.statusName === \"直播中\"\n                ? _c(\"span\", { staticClass: \"v-onlineNum\" }, [\n                    _vm._v(_vm._s(_vm.activityInfo.onlineNum) + \"人在线\")\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm._m(0),\n              _vm._v(\" \"),\n              _c(\n                \"a\",\n                {\n                  staticClass: \"fr\",\n                  attrs: { href: \"javascript:;\" },\n                  on: {\n                    click: function($event) {\n                      _vm.subscribe()\n                    }\n                  }\n                },\n                [\n                  _c(\"i\", {\n                    staticClass: \"v-showpsd iconfont icon-dingyue_icon\"\n                  }),\n                  _vm._v(\"订阅\")\n                ]\n              )\n            ]\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(_vm.currentView, {\n        tag: \"component\",\n        attrs: { paasParams: _vm.vhallParams, domShow: _vm.domShow }\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"message-box\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.subscribeShow,\n              expression: \"subscribeShow\"\n            }\n          ],\n          on: {\n            handleClick: function($event) {\n              _vm.subscribeClick($event)\n            }\n          }\n        },\n        [\n          _c(\"div\", { attrs: { slot: \"header\" }, slot: \"header\" }),\n          _vm._v(\" \"),\n          _c(\"img\", {\n            staticClass: \"v-logo\",\n            attrs: { src: require(\"../../assets/image/qq.png\"), alt: \"\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"p\", { staticClass: \"v-title\" }, [\n            _vm._v(\"\\n      北京微吼时代科技有限公司\\n    \")\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"v-from\" },\n            [\n              _c(\"p\", { staticClass: \"v-explain\" }, [\n                _vm._v(\n                  \"\\n        请留下您的邮箱，我们会将更多的活动推送给您\\n      \"\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"com-input\", {\n                attrs: {\n                  value: _vm.email,\n                  placeholder: \"请输入邮箱\",\n                  \"max-length\": 11,\n                  errorTips: _vm.errorTips\n                },\n                on: {\n                  \"update:value\": function($event) {\n                    _vm.email = $event\n                  },\n                  focus: function($event) {\n                    _vm.emailFocus()\n                  }\n                }\n              })\n            ],\n            1\n          )\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"message-box\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.successShow,\n              expression: \"successShow\"\n            }\n          ],\n          attrs: { autoClose: _vm.autoClose },\n          on: { handleClick: _vm.successClick }\n        },\n        [\n          _c(\"div\", { attrs: { slot: \"header\" }, slot: \"header\" }),\n          _vm._v(\" \"),\n          _c(\"img\", {\n            staticClass: \"v-success\",\n            attrs: {\n              src: require(\"../../assets/image/success@2x.png\"),\n              alt: \"\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"p\", { staticClass: \"v-title v-success-title\" }, [\n            _vm._v(\"\\n      恭喜您，订阅成功！\\n    \")\n          ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"com-login\")\n    ],\n    1\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\n      \"a\",\n      { staticClass: \"fr v-my\", attrs: { href: \"javascript:;\" } },\n      [\n        _c(\"i\", { staticClass: \"v-showpsd iconfont icon-wode_icon\" }),\n        _vm._v(\"我的\")\n      ]\n    )\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\")\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n\n</template>\n\n<script>\n  export default {\n    name: 'empty'\n  }\n</script>\n\n","import mod from \"-!../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./empty.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./empty.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./empty.vue?vue&type=template&id=192a1a8e&\"\nimport script from \"./empty.vue?vue&type=script&lang=js&\"\nexport * from \"./empty.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\vhall\\\\fe_interaction_h5\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('192a1a8e', component.options)\n    } else {\n      api.reload('192a1a8e', component.options)\n    }\n    module.hot.accept(\"./empty.vue?vue&type=template&id=192a1a8e&\", function () {\n      api.rerender('192a1a8e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/watch/empty.vue\"\nexport default component.exports","<template>\r\n  <div class=\"v-watch\">\r\n    <div v-if=\"domShow\" class=\"v-hearder clearfix\" @orientationchange=\"orientationchange($event)\">\r\n      <span class=\"v-status\">\r\n        <i v-if=\"activityInfo.statusName === '直播中'\"></i>{{activityInfo.statusName}}\r\n      </span>\r\n      <span class=\"v-onlineNum\"  v-if=\"activityInfo.statusName === '直播中'\">{{activityInfo.onlineNum}}人在线</span>\r\n      <a href=\"javascript:;\" class=\"fr v-my\"><i class=\"v-showpsd iconfont icon-wode_icon\"></i>我的</a>\r\n      <a href=\"javascript:;\" class=\"fr\" @click=\"subscribe()\"><i class=\"v-showpsd iconfont icon-dingyue_icon\"></i>订阅</a>\r\n    </div>\r\n    <component :is=\"currentView\" :paasParams=\"vhallParams\" :domShow=\"domShow\"></component>\r\n    <message-box v-show=\"subscribeShow\" @handleClick=\"subscribeClick($event)\">\r\n      <div slot=\"header\"></div>\r\n      <img src=\"../../assets/image/qq.png\" alt=\"\" class=\"v-logo\">\r\n      <p class=\"v-title\">\r\n        北京微吼时代科技有限公司\r\n      </p>\r\n      <div class=\"v-from\">\r\n        <p class=\"v-explain\">\r\n          请留下您的邮箱，我们会将更多的活动推送给您\r\n        </p>\r\n        <com-input :value.sync=\"email\" placeholder=\"请输入邮箱\" :max-length=\"11\" :errorTips=\"errorTips\" @focus=\"emailFocus()\"></com-input>\r\n      </div>\r\n    </message-box>\r\n    <message-box v-show=\"successShow\" @handleClick=\"successClick\" :autoClose=\"autoClose\">\r\n      <div slot=\"header\"></div>\r\n      <img src=\"../../assets/image/success@2x.png\" alt=\"\" class=\"v-success\">\r\n      <p class=\"v-title v-success-title\">\r\n        恭喜您，订阅成功！\r\n      </p>\r\n    </message-box>\r\n    <com-login></com-login>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapMutations, mapState } from 'vuex'\r\nimport Playback from './playback' // 直播推流回放组件\r\nimport Live from './live' // 直播推流回放组件\r\nimport Empty from './empty'\r\nimport * as types from '../../store/mutation-types'\r\nimport loginMixin from 'components/login-mixin'\r\nimport wxShareFunction from '../../assets/js/wx-share.js'\r\nimport activityService from 'src/api/activity-service'\r\nimport userService from 'src/api/user-service'\r\nconst playTypes = {\r\n  'PREPARE': 'pre',\r\n  'LIVING': 'live',\r\n  'FINISH': 'end',\r\n  'PLAYBACK': 'vod'\r\n}\r\nconst playStatuTypes = {\r\n  'PREPARE': '预告',\r\n  'LIVING': '直播中',\r\n  'FINISH': '结束',\r\n  'PLAYBACK': '回放'\r\n}\r\nexport default {\r\n  mixins: [loginMixin],\r\n  data () {\r\n    return {\r\n      activityData: {\r\n      },\r\n      playType: 'live', // 直播(live), 回放(vod), 暖场(warm), 结束(end)，预告(pre)\r\n      playStatus: '',\r\n      currentView: Empty,\r\n      vhallParams: {\r\n        token: '',\r\n        appId: '',\r\n        channelId: '',\r\n        accountId: ''\r\n      },\r\n      subscribeShow: false, // 订阅弹框是否显示\r\n      businessUserId: '', // 企业账户id\r\n      domShow: true, // 控制横竖屏元素是否显示\r\n      autoClose: 0,\r\n      email: '', // 订阅邮箱\r\n      errorTips: '', // 邮箱验证错误提示\r\n      successShow: false, // 订阅成功显示框\r\n      wxShare: { // 微信分享数据\r\n        wxShareData: {\r\n          appId: '',\r\n          timestamp: '',\r\n          nonceStr: '',\r\n          signature: ''\r\n        },\r\n        shareData: {\r\n          title: '', // 分享标题\r\n          desc: '', // 分享简介\r\n          link: '', // 分享链接\r\n          imgUrl: '' // 分享图片\r\n        },\r\n        shareUser: {\r\n          shareId: '' // 分享者id\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.storeLoginInfo(this.getLoginInfo())\r\n  },\r\n  computed: {\r\n    ...mapState('liveMager', {\r\n      activityInfo: state => state.activityInfo,\r\n      joinInfo: state => state.joinInfo,\r\n      roomPaas: state => state.roomPaas\r\n    }),\r\n    ...mapState('tokenMager', {\r\n      chatParams: state => state.chatParams\r\n    }),\r\n    ...mapState('login', {\r\n      loginInfo: state => state.loginInfo\r\n    })\r\n  },\r\n  created () {\r\n    const queryId = this.$route.params.id\r\n    if (!queryId) {\r\n      this.$router.go(-1)\r\n    }\r\n    this.activityId = queryId\r\n    this.initPage()\r\n\r\n    let that = this\r\n    window.addEventListener(\r\n      'onorientationchange' in window ? 'orientationchange' : 'resize',\r\n      function () {\r\n        if (window.orientation === 90 || window.orientation === -90) {\r\n          // 想把下面的alert换成能够控制v-show的代码\r\n          that.domShow = false\r\n\r\n          // alert(\"123\");仅alert纯文本可以正常运行\r\n        } else {\r\n          that.domShow = true\r\n        }\r\n        // window.location.reload();\r\n      },\r\n      false\r\n    )\r\n  },\r\n  methods: {\r\n    ...mapMutations('tokenMager', {\r\n      setChatParams: types.CHAT_PARAMS\r\n    }),\r\n    ...mapMutations('liveMager', {\r\n      storeActivityInfo: types.ACTIVITY_INFO,\r\n      storeRoomPaas: types.ROOM_PAAS,\r\n      storeJoinInfo: types.JOIN_INFO\r\n    }),\r\n    ...mapMutations('login', {\r\n      storeLoginInfo: types.LOGIN_INFO\r\n    }),\r\n    subscribe () {\r\n      if (this.loginInfo) {\r\n        if (this.loginInfo.email) {\r\n          this.sendSubScribe()\r\n        } else {\r\n          this.subScribeShow = true\r\n        }\r\n      } else {\r\n        this.doLogin()\r\n      }\r\n    },\r\n    emailFocus () {\r\n      this.errorTips = ''\r\n    },\r\n    /* 进行订阅 */\r\n    sendSubScribe () {\r\n      this.$config({ handlers: true }).$post(activityService.POST_EMAILSUBSCRIBE, {\r\n        businessUserId: this.activityInfo.userId,\r\n        email: this.loginInfo.email\r\n      }).then((res) => {\r\n        this.autoClose = 3\r\n        this.subscribeShow = false\r\n        this.successShow = true\r\n        let tempLoginInfo = JSON.parse(JSON.stringify(this.loginInfo))\r\n        tempLoginInfo.email = this.emailInput\r\n        this.updateLoginInfo(tempLoginInfo)\r\n        this.storeLoginInfo(tempLoginInfo)\r\n      }).catch((err) => {\r\n        this.errorTips = err.msg\r\n      })\r\n    },\r\n    subscribeClick (e) {\r\n      // 发送订阅=\r\n      if (e.action === 'cancel') {\r\n        this.subscribeShow = false\r\n      } else if (e.action === 'confirm') {\r\n        let reg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/\r\n        if (!reg.test(this.email)) {\r\n          this.errorTips = '邮箱格式不正确'\r\n          return false\r\n        } else {\r\n          this.errorTips = ''\r\n        }\r\n        this.sendSubScribe()\r\n      }\r\n    },\r\n    successClick (e) {\r\n      // 订阅发送成功\r\n      if (e.action === 'cancel') {\r\n        this.successShow = false\r\n      } else if (e.action === 'confirm') {\r\n        this.successShow = false\r\n      }\r\n    },\r\n    async initPage () {\r\n      await this.initRoomPaas()\r\n      this.share()\r\n      /* 查询详情 */\r\n      let activityInfo = null\r\n      await this.$config({ handlers: true }).$get(activityService.GET_LIVEINFO, {\r\n        activityId: this.$route.params.id\r\n      }).then((res) => {\r\n        activityInfo = res.data.activity\r\n        activityInfo.setting = res.data.setting\r\n        activityInfo.statusName = playStatuTypes[activityInfo.status]\r\n        activityInfo.description = res.data.activity.description\r\n        // this.storeActivityInfo(activityInfo)\r\n        this.playType = playTypes[activityInfo.status]\r\n        this.playStatus = playStatuTypes[activityInfo.status]\r\n        this.businessUserId = res.data.activity.userId\r\n        this.currentView = Playback\r\n        if (this.playType === 'vod') {\r\n          this.currentView = Playback\r\n        } else {\r\n          this.currentView = Live\r\n        }\r\n        /* 查询真实在线人数 */\r\n        this.$config({ handlers: true }).$get(activityService.GET_ONLINENUM, {\r\n          activityId: this.$route.params.id\r\n        }).then((res) => {\r\n          activityInfo.onlineNum = res.data.onlineNum\r\n          this.storeActivityInfo(activityInfo)\r\n        })\r\n      })\r\n    },\r\n    handleUpdateOnlineNum (msg) {\r\n      this.activityInfo.onlineNum = msg\r\n      this.storeActivityInfo(this.activityInfo)\r\n    },\r\n    initSdk () {\r\n      // this.service = new ChatService()\r\n      // this.service.init(this.vhallParams)\r\n      // window.Vhall.ready(() => {\r\n      // })\r\n    },\r\n    initRoomPaas () {\r\n      const shareId = this.$route.query.shareid\r\n      let data = {\r\n        activityId: this.activityId,\r\n        __errHandler: true\r\n      }\r\n      if (shareId) {\r\n        data.shareId = shareId\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        if (this.roomPaas.token) {\r\n          resolve(this.roomPaas)\r\n        }\r\n        this.$config({ handlers: true }).$get(userService.GET_USERREGACTIVITY, data).then((res) => { // 获取参会信息\r\n          this.storeJoinInfo(res.data)\r\n          this.$config({ handlers: true }).$get(activityService.GET_SDKTOKEN, { // 获取观看端token\r\n            activityId: this.activityId,\r\n            activityUserId: res.data.activityUserId\r\n          }).then((res) => {\r\n            if (res.data) {\r\n              resolve(res.data)\r\n              this.storeRoomPaas(res.data)\r\n            }\r\n          }).catch(() => {\r\n            this.$router.replace('/kicked')\r\n          })\r\n        })\r\n      })\r\n    },\r\n    async share () { // 微信分享\r\n      let _url = window.location.href\r\n      if (this.joinInfo.activityUserId) {\r\n        _url = this.joinInfo.activityUserId ? `${_url}?shareId=${this.joinInfo.activityUserId}` : _url\r\n      }\r\n      this.wxShare.shareData.link = _url\r\n      await this.$config({ handlers: true }).$get(activityService.GET_SHARESIGN, { // 获取微信分享签名等信息\r\n        url: _url\r\n      }).then((res) => {\r\n        this.wxShare.wxShareData.appId = res.data.appId\r\n        this.wxShare.wxShareData.timestamp = res.data.timestamp\r\n        this.wxShare.wxShareData.nonceStr = res.data.nonceStr\r\n        this.wxShare.wxShareData.signature = res.data.signature\r\n      })\r\n      await this.$config({ handlers: true }).$get(activityService.GET_SHAREINFO, { // 获取分享标题等信息\r\n        route: 'live_route'\r\n      }).then((res) => {\r\n        if (res.data) {\r\n          this.wxShare.shareData.title = res.data.title ? res.data.title : ''\r\n          this.wxShare.shareData.desc = res.data.description ? res.data.description : ''\r\n          this.wxShare.shareData.imgUrl = res.data.imgUrl ? res.data.imgUrl : ''\r\n        }\r\n      })\r\n      wxShareFunction(this.wxShare)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.v-watch /deep/ {\r\n  .v-hearder {\r\n    width: 100%;\r\n    height: 80px;\r\n    background-color: #fff;\r\n    padding: 20px 30px;\r\n    font-size: 24px;\r\n    .v-status {\r\n      color: #fff;\r\n      text-align: center;\r\n      background-color: #000000;\r\n      border-radius: 50px;\r\n      padding: 8px 13px;\r\n      margin-right: 20px;\r\n      i {\r\n        display: inline-block;\r\n        width: 10px;\r\n        height: 10px;\r\n        background-color: #fc5659;\r\n        border-radius: 50%;\r\n        margin-right: 10px;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n    .v-onlineNum {\r\n      padding: 8px 0;\r\n    }\r\n    .v-my {\r\n      margin-left: 36px;\r\n    }\r\n    i {\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n  .v-function-box {\r\n    width: 100%;\r\n    position: absolute;\r\n    top: 502px;\r\n    bottom: 0;\r\n    .v-nav {\r\n      width: 100%;\r\n      height: 100%;\r\n      position: relative;\r\n    }\r\n    .com-tabs {\r\n      height: 100%;\r\n      .tab-header {\r\n        padding-right: 160px;\r\n        border-bottom: 1px solid #f5f5f5;\r\n        margin: 0;\r\n        .tab-item {\r\n          width: 50%;\r\n          height: 80px;\r\n          line-height: 80px;\r\n          text-align: center;\r\n          font-size: 30px;\r\n          position: relative;\r\n          &.active {\r\n            color: #4b5afe;\r\n            &::after {\r\n              content: '';\r\n              display: block;\r\n              width: 70px;\r\n              height: 3px;\r\n              background-color: #4b5afe;\r\n              border-radius: 3px;\r\n              position: absolute;\r\n              bottom: 0;\r\n              left: 50%;\r\n              margin-left: -35px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .tab-container {\r\n        position: absolute;\r\n        top: 82px;\r\n        bottom: 0;\r\n        right: 0;\r\n        left: 0;\r\n        overflow-x: hidden;\r\n        overflow-y: auto;\r\n        background-color: #f5f5f5;\r\n        word-break: break-all;\r\n      }\r\n      .tab-content {\r\n        height: 100%;\r\n        &:last-child {\r\n          background-color: #fff;\r\n        }\r\n        .v-chat-control {\r\n          position: absolute;\r\n          bottom: 0;\r\n          left: 0;\r\n          right: 0;\r\n          height: 90px;\r\n          line-height: 89px;\r\n          padding: 0 40px;\r\n          border-top: 1px solid #e2e2e2;\r\n          .v-chat-clickbox {\r\n            display: inline-block;\r\n            width: 610px;\r\n            height: 58px;\r\n            line-height: 58px;\r\n            padding: 0 20px;\r\n            border-radius: 8px;\r\n            background-color: #f5f5f5;\r\n            color: #888888;\r\n            margin-left: 20px;\r\n          }\r\n          .icon-biaoqing{\r\n            font-size: 30px;\r\n            display: inline-block;\r\n          }\r\n          &.v-noLogin{\r\n            text-align: center;\r\n            span{\r\n              color: #4b5afe;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .v-introduction {\r\n        width: 100%;\r\n        padding: 40px;\r\n      }\r\n      .chat-content {\r\n        width: 100%;\r\n        // padding: 0 40px;\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 100px;\r\n        word-break: break-all;\r\n        overflow-x: hidden;\r\n        overflow-y: auto;\r\n      }\r\n    }\r\n    .v-subscribe {\r\n      display: inline-block;\r\n      width: 160px;\r\n      height: 80px;\r\n      background-color: #ffd021;\r\n      color: #222222;\r\n      text-align: center;\r\n      line-height: 80px;\r\n      position: absolute;\r\n      top: 0;\r\n      right: 0;\r\n    }\r\n  }\r\n  .ve-message-box {\r\n    &::before {\r\n      height: 0;\r\n    }\r\n    .v-logo {\r\n      display: block;\r\n      width: 130px;\r\n      height: 130px;\r\n      margin: 40px auto 0;\r\n    }\r\n    .v-success {\r\n      display: block;\r\n      width: 288px;\r\n      margin: 80px auto 0;\r\n    }\r\n    .v-title {\r\n      text-align: center;\r\n      word-break: break-all;\r\n      font-size: 32px;\r\n      color: #222;\r\n      margin-top: 8px;\r\n      &.v-success-title {\r\n        margin-bottom: 140px;\r\n      }\r\n    }\r\n    .v-from {\r\n      width: 528px;\r\n      margin: 60px auto 70px;\r\n      .v-explain {\r\n        text-align: left;\r\n        word-break: break-all;\r\n        font-size: 24px;\r\n        color: #555;\r\n        margin-bottom: 20px;\r\n      }\r\n      .com-input {\r\n        input {\r\n          height: 70px;\r\n          line-height: 70px;\r\n        }\r\n        .limit {\r\n          display: none;\r\n        }\r\n      }\r\n    }\r\n    .ve-message-box__btns {\r\n      margin: 0 auto;\r\n      text-align: center;\r\n      width: 528px;\r\n      .button--primary {\r\n        margin: 0 auto;\r\n        display: block;\r\n        width: 528px;\r\n        height: 94px;\r\n        line-height: 94px;\r\n        border-radius: 8px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Watch.vue?vue&type=template&id=a2747dca&scoped=true&\"\nimport script from \"./Watch.vue?vue&type=script&lang=js&\"\nexport * from \"./Watch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Watch.vue?vue&type=style&index=0&id=a2747dca&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2747dca\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\vhall\\\\fe_interaction_h5\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('a2747dca', component.options)\n    } else {\n      api.reload('a2747dca', component.options)\n    }\n    module.hot.accept(\"./Watch.vue?vue&type=template&id=a2747dca&scoped=true&\", function () {\n      api.rerender('a2747dca', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/watch/Watch.vue\"\nexport default component.exports"],"sourceRoot":""}