(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(t,i,s){"use strict";var n=s(0),e=s.n(n),o={},a=[];o.instance||(o.instance=new e.a),o.$on=function(t,i){-1===a.indexOf(t)&&a.push(t),o.instance.$on(t,i)},o.$emit=function(t,i){o.instance.$emit(t,i)},o.offAll=function(t,i){a.forEach(function(t){o.instance.$off(t)})},i.a=o},141:function(t,i,s){"use strict";i.a={GET_GOODS_INFO:"api/goods",GET_GOOD_BYID:"api/goods/id",GET_GOOD_KEY:"api/goods/key"}},142:function(t,i,s){"use strict";i.a={GET_CART_INFO:"api/cart/info",GET_CART_MINNUM:"api/cart/minNum",GET_CART_ADDNUM:"api/cart/addNum",GET_CART_ADD:"api/cart/add",GET_CART_DEL:"api/cart/delete"}},143:function(t,i,s){},144:function(t,i,s){},145:function(t,i,s){},156:function(t,i,s){},157:function(t,i,s){},162:function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",{staticClass:"search-input"},[s("div",{staticClass:"input-bg"},[s("i",{staticClass:"iconfont icon-search",on:{click:function(i){t.search()}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"searchInput",attrs:{type:"search",placeholder:"请输入关键字进行搜索",result:t.searchResult},domProps:{value:t.searchKey},on:{keypress:t.keySearch,focus:t.inputFocus,"update:result":function(i){t.searchResult=i},input:function(i){i.target.composing||(t.searchKey=i.target.value)}}})]),t._v(" "),s("button",{staticClass:"search-btn",on:{click:function(i){t.search()}}},[t._v("搜索")])]),t._v(" "),t.searchResult?s("div",{staticClass:"search-result"},[t._t("default")],2):t._e()])};n._withStripped=!0;var e=s(140),o={name:"search",props:{isSearchPage:{default:!1,type:Boolean}},data:function(){return{searchKey:"",searchResult:"",searchPage:!0}},methods:{search:function(){this.$emit("search",this.searchKey)},keySearch:function(t){13===t.keyCode&&this.search()},inputFocus:function(){this.searchPage=this.isSearchPage,this.searchPage||e.a.$emit("currentTabComponent","SearchPage")}},watch:{}},a=(s(164),s(37)),c=Object(a.a)(o,n,[],!1,null,"4ad41bb8",null);c.options.__file="src/components/search.vue";i.a=c.exports},163:function(t,i,s){"use strict";i.a={GET_KIND_INFO:"/api/index/index"}},164:function(t,i,s){"use strict";var n=s(143);s.n(n).a},166:function(t,i,s){"use strict";var n=s(144);s.n(n).a},168:function(t,i,s){t.exports=s.p+"static/img/carousel1.jpg"},169:function(t,i,s){t.exports=s.p+"static/img/carousel2.jpg"},170:function(t,i,s){t.exports=s.p+"static/img/carousel3.jpg"},171:function(t,i,s){"use strict";var n=s(145);s.n(n).a},193:function(t,i,s){"use strict";var n=s(156);s.n(n).a},195:function(t,i,s){"use strict";var n=s(157);s.n(n).a},207:function(t,i,s){"use strict";s.r(i);var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"good-detail"},[s("div",{staticClass:"cover"},[s("img",{attrs:{src:t.goodInfo[0].imgUrl,alt:""}})]),t._v(" "),s("div",{staticClass:"name"},[t._v(t._s(t.goodInfo[0].name))]),t._v(" "),s("div",{staticClass:"price-box"},[t.goodInfo[0].disPrice?s("span",{staticClass:"price"},[t._v("¥"+t._s(t.goodInfo[0].disPrice))]):s("span",{staticClass:"price"},[t._v("¥"+t._s(t.goodInfo[0].price))]),t._v(" "),t.goodInfo[0].disPrice?s("span",{staticClass:"del-price"},[t._v("原价¥"),s("span",{staticClass:"del-line"},[t._v(t._s(t.goodInfo[0].price))]),t._v("份")]):t._e()]),t._v(" "),s("div",{staticClass:"inventory"},[t._v("\n    库存："+t._s(t.goodInfo[0].inventory)+"\n  ")]),t._v(" "),s("div",{staticClass:"number clearfix"},[s("span",{staticClass:"fl"},[t._v("规格：")]),t._v(" "),s("NumberBtn",{staticClass:"fr",attrs:{goodsAmount:t.number,maxNumber:t.goodInfo[0].inventory},on:{minusNumberClick:t.minusNumberClick,addNumberClick:t.addNumberClick}})],1),t._v(" "),s("div",{staticClass:"buy"},[s("button",{staticClass:"iconfont icon-goumai"},[t._v("立即购买")]),t._v(" "),s("button",{staticClass:"iconfont icon-cart",on:{click:function(i){t.addCart(t.goodInfo[0].id)}}},[t._v("加入购物车")])])])};n._withStripped=!0;var e=s(140),o=s(141),a=s(142),c=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"number-btn"},[s("div",{staticClass:"choose-amount"},[s("button",{staticClass:"minus",attrs:{disabled:t.goodsAmount<=1},on:{click:t.minusNumberClick}},[t._v("-")]),s("input",{attrs:{type:"number"},domProps:{value:t.goodsAmount}}),s("button",{staticClass:"add",attrs:{disabled:t.goodsAmount>=t.maxNumber},on:{click:t.addNumberClick}},[t._v("+")])])])};c._withStripped=!0;var r={name:"choose-btn",data:function(){return{}},props:{goodsAmount:{type:Number,default:0},maxNumber:{type:Number,default:1e4}},methods:{minusNumberClick:function(){this.$emit("minusNumberClick")},addNumberClick:function(){this.$emit("addNumberClick")}}},d=(s(193),s(37)),u=Object(d.a)(r,c,[],!1,null,"06d4b830",null);u.options.__file="src/components/number-btn.vue";var l={name:"goodDetail",components:{NumberBtn:u.exports},data:function(){return{goodId:0,goodInfo:[],number:1}},methods:{queryGood:function(t){var i=this;this.$http.get(o.a.GET_GOOD_BYID,{params:{id:t}}).then(function(t){200===t.status&&(i.goodInfo=t.data,console.log(t.data))})},addNumberClick:function(){this.number++},minusNumberClick:function(){this.number--},addCart:function(t){this.$http.get(a.a.GET_CART_ADD,{params:{userId:1,goodId:t,number:1}}).then(function(t){200===t.status&&alert(t.data)})}},created:function(){var t=this;e.a.$on("goodsId",function(i){t.goodId=i,t.queryGood(t.goodId)})},watch:{goodInfo:{handler:function(t,i){console.log(t)},deep:!0}}},p=(s(195),Object(d.a)(l,n,[],!1,null,"24690b2c",null));p.options.__file="src/pages/good/goodDetail.vue";i.default=p.exports},208:function(t,i,s){"use strict";s.r(i);var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"home"},[s("div",{staticClass:"block"},[s("span",{staticClass:"demonstration"}),t._v(" "),s("mt-swipe",{attrs:{auto:4e3}},t._l(t.imgList,function(i){return s("mt-swipe-item",{key:i.id},[s("img",{attrs:{src:i.idView,alt:""},on:{click:function(s){t.swipeClick(i.id)}}})])}))],1),t._v(" "),s("Search",{attrs:{isSearchPage:t.isSearchPage},on:{inputFocus:function(i){t.isSearchPage=!1}}}),t._v(" "),s("div",{staticClass:"vg-category-bg"},[s("div",{staticClass:"vg-category"},[s("ul",{staticClass:"cat-list"},t._l(t.kindList,function(i){return s("li",{on:{click:function(s){t.kindClick(i.id)}}},[t._m(0,!0),t._v(" "),s("span",[t._v(t._s(i.name))])])}))])]),t._v(" "),s("div",{staticClass:"content"},[s("GoodCard",{attrs:{cardTitle:"今日特卖",goods:t.discountGoods}}),t._v(" "),s("GoodCard",{attrs:{cardTitle:"礼包嘉年华",goods:t.presentGoods}}),t._v(" "),s("GoodCard",{attrs:{cardTitle:"绿色蔬菜",goods:t.greenGoods}})],1)],1)};n._withStripped=!0;var e=s(162),o=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"good-card"},[s("h3",[t._v("--"+t._s(t.cardTitle)+"--")]),t._v(" "),s("div",{staticClass:"con-bg"},[s("div",{staticClass:"card-content"},t._l(t.goods,function(i){return s("div",{staticClass:"card-item",on:{click:function(s){t.goodDetail(i.id)}}},[s("img",{attrs:{src:i.imgUrl,alt:""}}),t._v(" "),s("p",{staticClass:"good-name"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"price-box"},[i.disprice?s("span",{staticClass:"price"},[t._v("¥"+t._s(i.disprice))]):s("span",{staticClass:"price"},[t._v("¥"+t._s(i.price))]),t._v(" "),i.disprice?s("span",{staticClass:"del-price"},[t._v("¥"),s("span",{staticClass:"del-line"},[t._v(t._s(i.price))])]):t._e()])])}))])])};o._withStripped=!0;var a=s(140),c={name:"good-card",props:{cardTitle:{type:String},goods:{type:Array},tableType:{type:String}},methods:{goodDetail:function(t){a.a.$emit("currentTabComponent","GoodDetail"),setTimeout(function(){a.a.$emit("goodsId",t)},0)}}},r=(s(166),s(37)),d=Object(r.a)(c,o,[],!1,null,"06847b80",null);d.options.__file="src/components/good-card.vue";var u=d.exports,l=s(163),p=s(141),f={components:{Search:e.a,GoodCard:u},data:function(){return{cardTitle:"",kindList:[],kindId:8,discountGoods:[],presentGoods:[],greenGoods:[],keyType:0,goodInfo:[],isSearchPage:!1,imgList:[{id:0,idView:s(168)},{id:1,name:"详情",idView:s(169)},{id:2,name:"推荐",idView:s(170)}]}},methods:{queryKind:function(){var t=this;this.$http.get(l.a.GET_KIND_INFO,{}).then(function(i){200===i.status&&(t.kindList=i.data)})},kindClick:function(t){var i=this;this.kindId=t,console.log(this.kindId),setTimeout(function(){a.a.$emit("kindId",i.kindId)},400),a.a.$emit("currentTabComponent","Kind"),this.$emit("kindClick")},queryGoodInfo:function(){var t=this;this.$http.get(p.a.GET_GOODS_INFO,{}).then(function(i){if(200===i.status){t.goodInfo=i.data;var s=t.goodInfo.length;console.log(t.goodInfo[1].disprice);for(var n=0;n<s;n++)t.goodInfo[n].disPrice&&t.discountGoods.length<10&&t.discountGoods.push(t.goodInfo[n]),1===t.goodInfo[n].kindId&&t.greenGoods.length<10&&t.greenGoods.push(t.goodInfo[n]),8===t.goodInfo[n].kindId&&t.presentGoods.length<10&&t.presentGoods.push(t.goodInfo[n])}})},swipeClick:function(t){switch(t){case 0:a.a.$emit("currentTabComponent","Coupon");break;case 1:case 2:a.a.$emit("currentTabComponent","Kind")}}},created:function(){this.queryKind(),this.queryGoodInfo()}},m=(s(171),Object(r.a)(f,n,[function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("i")])}],!1,null,"5b685826",null));m.options.__file="src/pages/home/index.vue";i.default=m.exports}}]);
//# sourceMappingURL=common.5ae630cf.js.map