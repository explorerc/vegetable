(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{195:function(t,i,a){},241:function(t,i,a){"use strict";var s=a(195);a.n(s).a},297:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.activity.countDown<1800||"LIVING"===t.activity.status?s("div",{staticClass:"v-success"},[s("img",{staticClass:"v-img",attrs:{src:a(194),alt:""}}),t._v(" "),t._m(0),t._v(" "),s("button",{staticClass:"primary-button",on:{click:t.accountSubmit}},[t._v("进入直播")])]):s("div",{staticClass:"v-success"},[s("img",{staticClass:"v-img",attrs:{src:a(194),alt:""}}),t._v(" "),s("p",{staticClass:"v-success-title"},["APPOINT"===t.activity.viewCondition?s("span",[t._v("报名成功")]):"NONE"===t.activity.viewCondition?s("span",[t._v("预约成功")]):t._e()]),t._v(" "),s("p",[t._v("活动将于"),s("span",{staticClass:"v-red"},[t._v(t._s(t.activity.startTime))]),t._v("准时开播")])])};s._withStripped=!0;var e=a(59),n=a.n(e),c=a(8),o=a.n(c),r=a(183),v=a(219),d=a(45),h=a(2),l=a(184),u=a(182),p=a(58),m={mixins:[r.a],data:()=>({activity:{viewCondition:"",status:"",startTime:"",countDown:""},user:{phone:"",isApplay:!1,isOrder:!1},vhallParams:{token:"",appId:"",channelId:"",accountId:""}}),mounted(){},components:{},created(){this.getInfo()},computed:Object(d.c)("tokenMager",{chatParams:t=>t.chatParams}),watch:{},methods:o()({},Object(d.b)("tokenMager",{setChatParams:h.b}),{accountSubmit(){this.doAuth("/live/"+this.$route.params.id)},initSdk(){this.service=new v.a,this.service.init(this.vhallParams)},handleActivityStart(t){this.activity.countDown=1799},getInfo(){var t=this;return n()(function*(){yield t.$config({handlers:!0}).$get(u.a.GET_LIVEINFO,{activityId:t.$route.params.id}).then(function(i){t.activity.viewCondition=i.data.activity.viewCondition,t.activity.status=i.data.activity.status,t.activity.startTime=i.data.activity.startTime,t.activity.countDown=i.data.activity.countDown,t.user.isApplay=i.data.joinInfo.isApplay,t.user.isOrder=i.data.joinInfo.isOrder,("LIVING"===t.activity.status||t.activity.countDown<=1799)&&("APPOINT"===t.activity.viewCondition?i.data.joinInfo.isApplay&&t.doAuth("/live/"+t.$route.params.id):i.data.joinInfo.isOrder&&"NONE"===t.activity.viewCondition&&t.doAuth("/live/"+t.$route.params.id))}),t.getToken()})()},getToken(){("APPOINT"===this.activity.viewCondition&&this.user.isApplay||"APPOINT"!==this.activity.viewCondition)&&(this.chatParams.token?(this.vhallParams=this.chatParams,this.$nextTick(()=>{this.initSdk(),this.service.regHandler(l.a.BEGIN_LIVE,this.handleActivityStart)})):this.$config({handlers:!0}).$get(p.a.GET_USERREGACTIVITY,{activityId:this.$route.params.id}).then(t=>{this.$config({handlers:!0}).$get(u.a.GET_SDKTOKEN,{activityId:this.$route.params.id,activityUserId:t.data.activityUserId}).then(t=>{this.vhallParams.token=t.data.token,this.vhallParams.appId=t.data.appId,this.vhallParams.channelId=t.data.channelRoom,this.vhallParams.accountId=t.data.accountId,this.setChatParams(this.vhallParams),this.$nextTick(()=>{this.initSdk(),this.service.regHandler(l.a.BEGIN_LIVE,this.handleActivityStart)})})}))}})},y=(a(241),a(1)),I=Object(y.a)(m,s,[function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"v-start-title"},[i("span",[this._v("直播将要开始啦")])])}],!1,null,"3ffef81c",null);I.options.__file="src/pages/guide/success.vue";i.default=I.exports}}]);
//# sourceMappingURL=6.77a81900.js.map