{"version":3,"sources":["webpack:///./src/api/activity-service.js","webpack:///./src/components/login-box.vue?4562","webpack:///./src/components/login-box.vue?5dc4","webpack:///src/components/login-box.vue","webpack:///./src/components/login-box.vue","webpack:///./src/components/login-mixin.js","webpack:///./src/components/login-box.vue?f7e9","webpack:///./src/components/common/signup/com-input.vue?86d8","webpack:///./src/components/common/signup/com-code.vue?f737","webpack:///./src/components/common/signup/com-input.vue?406a","webpack:///src/components/common/signup/com-input.vue","webpack:///./src/components/common/signup/com-input.vue?c5ee","webpack:///./src/components/common/signup/com-input.vue","webpack:///./src/components/common/signup/com-code.vue?1aa8","webpack:///./src/components/common/signup/com-code.vue?bd61","webpack:///src/components/common/signup/com-code.vue","webpack:///./src/components/common/signup/com-code.vue","webpack:///./src/components/common/signup/com-select.vue?7c53","webpack:///./src/pages/guide/sign-up.vue?4217","webpack:///./src/pages/guide/sign-up.vue?0f65","webpack:///./src/components/common/signup/com-select.vue?7c37","webpack:///src/components/common/signup/com-select.vue","webpack:///./src/components/common/signup/com-select.vue?1256","webpack:///./src/components/common/signup/com-select.vue","webpack:///./src/pages/guide/sign-up.vue?2628","webpack:///src/pages/guide/sign-up.vue","webpack:///./src/pages/guide/sign-up.vue"],"names":["__webpack_exports__","POST_SUBSCRIBE","GET_LIVEINFO","GET_SHAREINFO","GET_QUESTIONINFO","POST_QUESTIONINFO","GET_CREATEACCESSTOKEN","GET_ONLINENUM","GET_SHARESIGN","GET_SDKTOKEN","GET_SEND","GET_SENDANNOUNCEMENT","POST_GAG","POST_GAGALL","POST_KICK","POST_EMAILSUBSCRIBE","GET_MESSAGELIST","GET_CAPTCHAID","GET_CODE","GET_TEMPLATE","GET_DEFAULEREPLAY","GET_WARMINFO","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","visible","center","on","update:visible","$event","close","closed","_v","type","placeholder","model","value","mobile","callback","$$v","expression","id","code","disabled","codeEnable","click","getCode","_s","codeText","slot","submitEnable","doLogin","_withStripped","components_login_boxvue_type_script_lang_js_","name","data","time","captchaIns","key","verify","mobileReg","captchaKey","[object Object]","$get","activity_service","then","res","window","initNECaptcha","element","mode","width","captchaId","onVerify","err","console","log","validate","instance","methods","$config","handlers","captcha","__errHandler","timer","setInterval","clearInterval","$post","user_service","POST_MOBILELOGIN","wechatAuth","sessionStorage","getItem","$parent","updateLoginInfo","$emit","catch","refresh","computed","test","component","Object","componentNormalizer","options","__file","login_box","Vue","use","Router","vue","components","ComLogin","login","mounted","$children","find","child","$options","$route","meta","pop","getAuthInfo","getLoginInfo","JSON","parse","doAuth","url","_url","location","href","setItem","stringify_default","removeItem","getMasterInfo","promise_default","a","resolve","reject","loading","userService","GET_JOININFO","_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_login_box_vue_vue_type_style_index_0_id_9f4e7bf2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_com_input_vue_vue_type_style_index_0_id_5a5e988b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_com_code_vue_vue_type_style_index_0_id_15c0d488_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","label","class","warning","errorMsg","val","max-length","maxLength","error-tips","isDisabled","update:value","focus","inputFocus","signup_com_inputvue_type_script_lang_js_","props","String","inputVal","Number","watch","immediate","codeType","blur","pushCode","prohibit","isProhibit","directives","rawName","isSend","second","signup_com_codevue_type_script_lang_js_","phone","isGetCode","Boolean","timerr","phoneKey","isImg","cap","onReady","onError","isGetCodePermission","msg","verificationPhone","mobileOpacity","_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_com_select_vue_vue_type_style_index_0_id_3eb9eb8b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_sign_up_vue_vue_type_style_index_0_id_052ec8c4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","activity","viewCondition","_l","questionList","item","user","update:inputVal","$set","update:errorMsg","_e","codeError","update:code","selectOptions","detail","selected","submitAppoint","phoneError","submit","_m","com_selectvue_type_template_id_3eb9eb8b_scoped_true_render","signup_com_selectvue_type_script_lang_js_","Array","com_select","guide_sign_upvue_type_script_lang_js_","mixins","login_mixin","status","isApplay","isOrder","selectVal","com-input","com_input","com-verification-code","com_code","com-select","getActivity","userInfo","isCz","i","length","obj","push","isVerification","activityId","params","answer","forEach","verification","required","questionId","$router","replace","joinInfo","getQuestionLists","$messageBox","header","content","confirmText","handleClick","e","action","subScribe","map","isRequired","phoneReg","emailReg","integerReg","sign_up_component"],"mappings":"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","file":"static/js/3.1175e0fc.js","sourcesContent":["export default {\r\n  POST_SUBSCRIBE: '/frontend/user/order-activity', // 提交预约活动\r\n  GET_LIVEINFO: '/frontend/live/info', // 获取活动信息\r\n  GET_SHAREINFO: '/frontend/share/info', // 获取分享信息\r\n  GET_QUESTIONINFO: '/frontend/question/info', // 获取报名表单\r\n  POST_QUESTIONINFO: '/frontend/user/apply-activity', // 提交报名表单\r\n  GET_CREATEACCESSTOKEN: '/common/paas/create-access-token', // 获取签名\r\n  GET_ONLINENUM: '/frontend/channel/get-online-num', // 获取真实在线人数\r\n  GET_SHARESIGN: '/common/wechat/get-share-sign', // 获取微信分享所需token，appid等数据\r\n  GET_SDKTOKEN: '/frontend/live/sdk-token', // 获取观看端token\r\n  GET_SEND: '/index/send', // 发送消息或者广播\r\n  GET_SENDANNOUNCEMENT: '/initiator/channel/send-announcement', // 发送公告\r\n  POST_GAG: '/initiator/user/gag', // 禁言\r\n  POST_GAGALL: '/initiator/user/gag-all', // 全体禁言\r\n  POST_KICK: '/initiator/user/kick', // 踢出\r\n  POST_EMAILSUBSCRIBE: '/frontend/user/email-subscribe', // 订阅\r\n  GET_MESSAGELIST: '/common/paas/message-list', // 获取历史消息\r\n  GET_CAPTCHAID: '/common/message/get-captchaid', // 获取验证码初始化id\r\n  GET_CODE: '/common/message/send-code', // 获取验证码\r\n  GET_TEMPLATE: '/frontend/live/template', // 获取获取活动官网数据\r\n  GET_DEFAULEREPLAY: '/frontend/replay/default-replay', // 查询默认回放信息\r\n  GET_WARMINFO: '/manage/warm-up-manage/get' // 通过id获取暖场信息\r\n}\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"login-container\" },\n    [\n      _c(\n        \"com-dialog\",\n        {\n          attrs: { visible: _vm.visible, center: \"\" },\n          on: {\n            \"update:visible\": function($event) {\n              _vm.visible = $event\n            },\n            close: _vm.closed\n          }\n        },\n        [\n          _c(\n            \"div\",\n            [\n              _c(\"div\", { staticClass: \"rule\" }, [_vm._v(\"登录参与直播互动\")]),\n              _vm._v(\" \"),\n              _c(\"com-input\", {\n                staticClass: \"mobile\",\n                attrs: { type: \"input\", placeholder: \"请输入手机\" },\n                model: {\n                  value: _vm.mobile,\n                  callback: function($$v) {\n                    _vm.mobile = $$v\n                  },\n                  expression: \"mobile\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"div\", { attrs: { id: \"captcha\" } }),\n              _vm._v(\" \"),\n              _c(\"com-input\", {\n                staticClass: \"code\",\n                attrs: { type: \"input\", placeholder: \"请输入验证码\" },\n                model: {\n                  value: _vm.code,\n                  callback: function($$v) {\n                    _vm.code = $$v\n                  },\n                  expression: \"code\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"com-button\",\n                {\n                  staticClass: \"codeBtn\",\n                  attrs: { disabled: !_vm.codeEnable, type: \"primary\" },\n                  on: { click: _vm.getCode }\n                },\n                [_vm._v(_vm._s(_vm.codeText))]\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              staticClass: \"footer\",\n              attrs: { slot: \"footer\" },\n              slot: \"footer\"\n            },\n            [\n              _c(\n                \"com-button\",\n                {\n                  attrs: { type: \"primary\", disabled: !_vm.submitEnable },\n                  on: { click: _vm.doLogin }\n                },\n                [_vm._v(\"登录\")]\n              )\n            ],\n            1\n          )\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./login-box.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./login-box.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"login-container\">\r\n    <com-dialog\r\n    :visible.sync=\"visible\"\r\n    center\r\n    @close=\"closed\"\r\n    >\r\n      <div>\r\n        <div class=\"rule\">登录参与直播互动</div>\r\n        <com-input v-model=\"mobile\" class=\"mobile\" type=\"input\" placeholder=\"请输入手机\"></com-input>\r\n        <div id=\"captcha\"></div>\r\n        <com-input v-model=\"code\" class=\"code\" type=\"input\" placeholder=\"请输入验证码\"></com-input>\r\n        <com-button class=\"codeBtn\" :disabled=\"!codeEnable\" @click=\"getCode\" type=\"primary\" >{{codeText}}</com-button>\r\n      </div>\r\n      <div class=\"footer\" slot=\"footer\">\r\n        <com-button type=\"primary\" :disabled=\"!submitEnable\" @click=\"doLogin\" >登录</com-button>\r\n      </div>\r\n    </com-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport activityService from 'src/api/activity-service'\r\nimport userService from 'src/api/user-service'\r\n\r\nexport default {\r\n  name: 'ComLogin',\r\n  data () {\r\n    return {\r\n      visible: false,\r\n      time: 60,\r\n      captchaIns: null,\r\n      key: null,\r\n      verify: false,\r\n      mobile: '',\r\n      code: '',\r\n      mobileReg: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\r\n      captchaKey: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$get(activityService.GET_CAPTCHAID).then((res) => {\r\n      this.key = res.data\r\n      window.initNECaptcha({\r\n        element: '#captcha',\r\n        mode: 'float',\r\n        width: '100%',\r\n        captchaId: this.key,\r\n        onVerify: (err, data) => {\r\n          if (err) {\r\n            console.log(err)\r\n          } else {\r\n            this.verify = true\r\n            this.captchaKey = data.validate\r\n          }\r\n        }\r\n      }, (instance) => {\r\n        this.captchaIns = instance\r\n      }, (err) => {\r\n        console.log(err)\r\n      })\r\n    })\r\n  },\r\n  methods: {\r\n    getCode () {\r\n      this.$config({ handlers: true }).$get(activityService.GET_CODE, {\r\n        mobile: this.mobile,\r\n        type: 'CONSUMER_USER_LOGIN',\r\n        captcha: this.captchaKey,\r\n        __errHandler: true\r\n      }).then((res) => {\r\n        this.time--\r\n        this.timer = setInterval(() => {\r\n          this.time--\r\n          if (this.time === 0) {\r\n            clearInterval(this.timer)\r\n            this.time = 60\r\n          }\r\n        }, 1000)\r\n        console.log(res)\r\n      })\r\n    },\r\n    doLogin () {\r\n      this.$config({ handlers: true }).$post(userService.POST_MOBILELOGIN, {\r\n        mobile: this.mobile,\r\n        code: this.code,\r\n        wechatAuth: sessionStorage.getItem('wechatAuth'),\r\n        __errHandler: true\r\n      }).then((res) => {\r\n        this.$parent.updateLoginInfo(res.data)\r\n        this.visible = false\r\n        this.closed()\r\n        this.$emit('login', res.data)\r\n      }).catch(() => {\r\n        this.verify = false\r\n        this.captchaKey = ''\r\n        this.captchaIns.refresh()\r\n      })\r\n    },\r\n    closed () {\r\n      this.mobile = ''\r\n      this.time = 60\r\n      this.verify = false\r\n      this.captchaKey = ''\r\n      this.captchaIns.refresh()\r\n      clearInterval(this.timer)\r\n    }\r\n  },\r\n  computed: {\r\n    codeText () {\r\n      if (this.codeEnable || this.time === 60) {\r\n        return '发送验证码'\r\n      } else {\r\n        return `倒计时${this.time}秒`\r\n      }\r\n    },\r\n    codeEnable () {\r\n      return this.mobileReg.test(this.mobile) && this.verify && this.time === 60\r\n    },\r\n    submitEnable () {\r\n      return this.mobileReg.test(this.mobile) && this.verify && this.code\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-container /deep/ {\r\n  #captcha {\r\n    margin-bottom: 20px;\r\n  }\r\n  .dialog-wrap {\r\n    width: 540px;\r\n    .dialog-body {\r\n      padding: 30px 40px 10px;\r\n      .rule {\r\n        a {\r\n          color: #0000ff;\r\n        }\r\n        padding-bottom: 30px;\r\n      }\r\n      .mobile {\r\n        margin-bottom: 20px;\r\n        height: 80px;\r\n        width: 100%;\r\n      }\r\n      .code {\r\n        height: 80px;\r\n        margin-bottom: 20px;\r\n        display: inline-block;\r\n        width: 292px;\r\n      }\r\n      .codeBtn {\r\n        width: 160px;\r\n        padding: 10px 0;\r\n        height: 80px;\r\n      }\r\n    }\r\n    .footer {\r\n      padding: 0 40px 20px;\r\n      display: inline-block;\r\n      width: 100%;\r\n      button {\r\n        width: 100%;\r\n        height: 80px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./login-box.vue?vue&type=template&id=9f4e7bf2&scoped=true&\"\nimport script from \"./login-box.vue?vue&type=script&lang=js&\"\nexport * from \"./login-box.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login-box.vue?vue&type=style&index=0&id=9f4e7bf2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f4e7bf2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\vhall\\\\fe_interaction_h5\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('9f4e7bf2', component.options)\n    } else {\n      api.reload('9f4e7bf2', component.options)\n    }\n    module.hot.accept(\"./login-box.vue?vue&type=template&id=9f4e7bf2&scoped=true&\", function () {\n      api.rerender('9f4e7bf2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/login-box.vue\"\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport ComLogin from './login-box.vue'\r\nimport userService from 'src/api/user-service'\r\n\r\nVue.use(Router)\r\nconst vue = new Vue()\r\nexport default {\r\n  components: {\r\n    ComLogin\r\n  },\r\n  data () {\r\n    return {\r\n      login: null\r\n    }\r\n  },\r\n  mounted () {\r\n    this.login = this.$children.find(child => {\r\n      return child.$options.name === 'ComLogin'\r\n    })\r\n    if (this.$route.meta.pop) {\r\n      this.$route.meta.pop = false\r\n      this.login.visible = true\r\n    }\r\n  },\r\n  methods: {\r\n    getAuthInfo () {\r\n      return sessionStorage.getItem('wechatAuth')\r\n    },\r\n    getLoginInfo () {\r\n      return JSON.parse(sessionStorage.getItem('login'))\r\n    },\r\n    doAuth (url) {\r\n      let _url = location.href\r\n      if (url) {\r\n        _url = url\r\n      }\r\n      if (!sessionStorage.getItem('wechatAuth')) {\r\n        console.log(_url)\r\n        // location.href = `/api/frontend/user/wechat-login?backUrl=${encodeURIComponent(\r\n        //   _url\r\n        // )}`\r\n        location.href = `${_url}?wechatAuth=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1bmlvbmlkIjoib1Y4WXkwbUpWVW90NTNkMmQxMGp4X1c5alVPZyJ9 .0e3 IszThWQZDZAn-Ycj_WeaLJ4MSvcg02f7NUqYmPcE`\r\n      } else {\r\n        location.href = _url\r\n      }\r\n    },\r\n    doLogin (url) {\r\n      if (!sessionStorage.getItem('wechatAuth')) {\r\n        let _url = location.href\r\n        if (typeof url === 'string') {\r\n          _url = url\r\n        }\r\n        _url = `${location.href}?wechatAuth=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1bmlvbmlkIjoib1Y4WXkwbUpWVW90NTNkMmQxMGp4X1c5alVPZyJ9 .0e3 IszThWQZDZAn-Ycj_WeaLJ4MSvcg02f7NUqYmPcE`\r\n        location.href = _url\r\n        // if (_url.indexOf('?') === -1) {\r\n        //   _url += '?_pop=true'\r\n        // } else {\r\n        //   _url += '&_pop=true'\r\n        // }\r\n        // location.href = `/api/frontend/user/wechat-login?backUrl=${encodeURIComponent(\r\n        //   _url\r\n        // )}`\r\n      } else {\r\n        this.login.visible = true\r\n      }\r\n    },\r\n    updateLoginInfo (data) {\r\n      if (data) {\r\n        sessionStorage.setItem('login', JSON.stringify(data))\r\n      } else {\r\n        sessionStorage.removeItem('login')\r\n        sessionStorage.removeItem('wechatAuth')\r\n      }\r\n    },\r\n    getMasterInfo (data) {\r\n      return new Promise((resolve, reject) => {\r\n        if (sessionStorage.getItem('master')) {\r\n          resolve(JSON.parse(sessionStorage.getItem('master')))\r\n        } else {\r\n          vue\r\n            .$config({ loading: true, handlers: true })\r\n            .$get(userService.GET_JOININFO)\r\n            .then(res => {\r\n              sessionStorage.setItem('master', JSON.stringify(res.data))\r\n              resolve(res.data)\r\n            })\r\n            .catch((err) => {\r\n              reject(err)\r\n            })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./login-box.vue?vue&type=style&index=0&id=9f4e7bf2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./login-box.vue?vue&type=style&index=0&id=9f4e7bf2&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-input.vue?vue&type=style&index=0&id=5a5e988b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-input.vue?vue&type=style&index=0&id=5a5e988b&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-code.vue?vue&type=style&index=0&id=15c0d488&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-code.vue?vue&type=style&index=0&id=15c0d488&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"input-form\" },\n    [\n      _c(\"label\", { staticClass: \"v-label\" }, [\n        _vm._v(\"\\n    \" + _vm._s(_vm.label) + \"\\n  \")\n      ]),\n      _vm._v(\" \"),\n      _c(\"com-input\", {\n        class: { warning: _vm.errorMsg },\n        attrs: {\n          value: _vm.val,\n          placeholder: _vm.placeholder,\n          type: \"input\",\n          \"max-length\": _vm.maxLength,\n          \"error-tips\": _vm.errorMsg,\n          disabled: _vm.isDisabled\n        },\n        on: {\n          \"update:value\": function($event) {\n            _vm.val = $event\n          },\n          focus: _vm.inputFocus\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input-form\">\n    <label class=\"v-label\">\n      {{label}}\n    </label>\n    <com-input :value.sync=\"val\" :placeholder=\"placeholder\"  :class=\"{warning: errorMsg}\" type=\"input\" :max-length=\"maxLength\"  :error-tips=\"errorMsg\"  @focus=\"inputFocus\" :disabled=\"isDisabled\"></com-input>\n  </div>\n</template>\n<script>\n  export default {\n    props: {\n      label: String,\n      inputVal: String,\n      placeholder: String,\n      errorMsg: String,\n      maxLength: Number,\n      isDisabled: String\n    },\n    data () {\n      return {\n        val: ''\n      }\n    },\n    mounted () {\n    },\n    components: {\n    },\n    created () {\n    },\n    watch: {\n      val: {\n        handler (n) {\n          this.$emit('update:inputVal', n)\n        },\n        immediate: true\n      },\n      inputVal: {\n        handler (n) {\n          this.val = n\n        },\n        immediate: true\n      }\n    },\n    methods: {\n      inputFocus () {\n        this.$emit('update:errorMsg', '')\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n.input-form /deep/ {\n  width: 100%;\n  height: 90px;\n  margin-bottom: 50px;\n  position: relative;\n  .v-label {\n    display: block;\n    text-align: left;\n  }\n  .v-input {\n    display: block;\n    line-height: 88px;\n    width: 100%;\n    border: 1px solid #ccc;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    padding: 0 20px;\n    font-size: 28px;\n    color: #888;\n    &.warning {\n      border-color: #fc5659;\n    }\n    &:hover {\n      border-color: #4b5afe;\n    }\n  }\n  .error-msg {\n    position: absolute;\n    font-size: 14px;\n    color: #fc5659;\n    top: 98px;\n    left: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./com-input.vue?vue&type=template&id=5a5e988b&scoped=true&\"\nimport script from \"./com-input.vue?vue&type=script&lang=js&\"\nexport * from \"./com-input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./com-input.vue?vue&type=style&index=0&id=5a5e988b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a5e988b\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\vhall\\\\fe_interaction_h5\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5a5e988b', component.options)\n    } else {\n      api.reload('5a5e988b', component.options)\n    }\n    module.hot.accept(\"./com-input.vue?vue&type=template&id=5a5e988b&scoped=true&\", function () {\n      api.rerender('5a5e988b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/common/signup/com-input.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"v-vercode\" }, [\n    _c(\"div\", { attrs: { id: \"captcha\" } }),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"v-input-from\" },\n      [\n        _c(\"com-input\", {\n          class: { warning: _vm.errorMsg },\n          attrs: {\n            value: _vm.val,\n            placeholder: _vm.placeholder,\n            type: \"input\",\n            \"max-length\": _vm.maxLength,\n            \"error-tips\": _vm.errorMsg,\n            codeType: _vm.codeType\n          },\n          on: {\n            \"update:value\": function($event) {\n              _vm.val = $event\n            },\n            blur: _vm.pushCode,\n            focus: _vm.inputFocus\n          }\n        }),\n        _vm._v(\" \"),\n        _c(\n          \"a\",\n          {\n            staticClass: \"v-getcode\",\n            class: { prohibit: _vm.isProhibit },\n            attrs: { href: \"javascript:;\" },\n            on: {\n              click: function($event) {\n                _vm.getCode()\n              }\n            }\n          },\n          [\n            _vm._v(\"获取验证码\"),\n            _c(\n              \"span\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.isSend,\n                    expression: \"isSend\"\n                  }\n                ],\n                staticClass: \"v-getcode-span\"\n              },\n              [\n                _vm._v(\"(\"),\n                _c(\"em\", [_vm._v(_vm._s(_vm.second))]),\n                _vm._v(\"s)\")\n              ]\n            )\n          ]\n        )\n      ],\n      1\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-code.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-code.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"v-vercode\">\r\n    <div id=\"captcha\"></div>\r\n    <div class=\"v-input-from\">\r\n    <com-input :value.sync=\"val\" @blur=\"pushCode\" :placeholder=\"placeholder\"  :class=\"{warning: errorMsg}\" type=\"input\" :max-length=\"maxLength\"  :error-tips=\"errorMsg\"  @focus=\"inputFocus\" :codeType=\"codeType\"></com-input>\r\n      <a href=\"javascript:;\" class=\"v-getcode\" :class=\"{prohibit:isProhibit}\" @click=\"getCode()\" >获取验证码<span v-show=\"isSend\" class=\"v-getcode-span\">(<em>{{second}}</em>s)</span></a>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import activityService from 'src/api/activity-service'\r\n  export default {\r\n    props: {\r\n      code: String,\r\n      phone: String,\r\n      isGetCode: Boolean,\r\n      placeholder: String,\r\n      maxLength: Number,\r\n      errorMsg: String,\r\n      codeType: String // 验证码类型\r\n    },\r\n    data () {\r\n      return {\r\n        key: '',\r\n        isProhibit: true,\r\n        isSend: false,\r\n        second: 60,\r\n        timerr: '',\r\n        phoneKey: '',\r\n        isImg: false,\r\n        cap: null,\r\n        val: ''\r\n      }\r\n    },\r\n    mounted () {\r\n      console.log(this.phone)\r\n    },\r\n    components: {\r\n    },\r\n    created () {\r\n      this.$get(activityService.GET_CAPTCHAID).then((res) => {\r\n        let _self = this\r\n        this.key = res.data\r\n        window.initNECaptcha({\r\n          captchaId: _self.key,\r\n          element: '#captcha',\r\n          mode: 'float',\r\n          width: '100%',\r\n          onReady: function (instance) {},\r\n          onVerify: function (err, data) {\r\n            if (data) {\r\n              _self.phoneKey = data.validate\r\n              _self.isImg = true\r\n            }\r\n            if (err) {\r\n              console.log(err)\r\n            }\r\n          },\r\n          onError: function () {}\r\n        }, function onload (instance) {\r\n          _self.cap = instance\r\n        })\r\n      })\r\n    },\r\n    destroyed () {\r\n      clearInterval(this.timerr)\r\n    },\r\n    watch: {\r\n      phone: function (val) {\r\n        this.isGetCodePermission(true)\r\n      },\r\n      isImg: function (val) {\r\n        this.isGetCodePermission()\r\n      },\r\n      isGetCode: function () {\r\n        if (this.isGetCode) {\r\n          clearInterval(this.timerr)\r\n          this.isSend = false\r\n          this.isProhibit = true\r\n          this.second = 60\r\n          this.isImg = false\r\n          this.phoneKey = ''\r\n          this.cap.refresh()\r\n        }\r\n      },\r\n      val: {\r\n        handler (n) {\r\n          this.$emit('update:code', n)\r\n        },\r\n        immediate: true\r\n      }\r\n    },\r\n    methods: {\r\n      getCode () {\r\n        // 获取验证码\r\n        if (this.isProhibit) {\r\n          return false\r\n        }\r\n\r\n        let data = {\r\n          mobile: this.phone,\r\n          type: this.codeType,\r\n          captcha: this.phoneKey,\r\n          __errHandler: true\r\n        }\r\n        this.$config({ handlers: true }).$get(activityService.GET_CODE, data).then((res) => {\r\n          this.isSend = true\r\n          this.isProhibit = true\r\n          clearInterval(this.timerr)\r\n          this.timerr = setInterval(() => {\r\n            this.second--\r\n            if (this.second <= 0) {\r\n              clearInterval(this.timerr)\r\n              this.isSend = false\r\n              this.isProhibit = true\r\n              this.second = 60\r\n              this.isImg = false\r\n              this.phoneKey = ''\r\n              this.cap.refresh()\r\n            }\r\n          }, 1000)\r\n        }).catch((err) => {\r\n          if (err.code === 10050) {\r\n            this.$emit('update:errorMsg', '验证码输入过于频繁')\r\n          } else if (err.code !== 200) {\r\n            this.$emit('update:errorMsg', err.msg)\r\n          }\r\n        })\r\n      },\r\n      isGetCodePermission (val) { // 获取验证码是否可点击\r\n        if (this.isImg && this.verificationPhone()) {\r\n          this.isProhibit = false\r\n          if (this.second > 0) {\r\n            this.isSend = false\r\n            this.isProhibit = false\r\n            this.second = 60\r\n            this.mobileOpacity = 1\r\n            clearInterval(this.timerr)\r\n            if (val) {\r\n              this.isImg = false\r\n              this.phoneKey = ''\r\n              this.cap.refresh()\r\n            }\r\n          }\r\n        } else {\r\n          this.isProhibit = true\r\n        }\r\n      },\r\n      pushCode () {\r\n        this.$emit('inputFocus', this.code)\r\n      },\r\n      inputFocus () {\r\n        this.$emit('update:errorMsg', '')\r\n      },\r\n      verificationPhone () {\r\n        let phoneReg = /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/\r\n        console.log(this.phone)\r\n        if (this.phone !== '' && phoneReg.test(this.phone)) {\r\n          return true\r\n        }\r\n        return false\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.v-vercode {\r\n  width: 100%;\r\n  #captcha {\r\n    margin-bottom: 50px;\r\n  }\r\n  .v-input-from {\r\n    width: 100%;\r\n    height: 90px;\r\n    position: relative;\r\n    margin-bottom: 50px;\r\n    input {\r\n      width: 100%;\r\n      height: 90px;\r\n      line-height: 88px;\r\n      border: 1px solid #ccc;\r\n      border-radius: 8px;\r\n      font-size: 28px;\r\n      color: #888;\r\n      padding: 0 225px 0 20px;\r\n      &.warning {\r\n        border-color: #fc5659;\r\n      }\r\n      &:hover {\r\n        border-color: #4b5afe;\r\n      }\r\n    }\r\n    .phone-code .limit {\r\n      display: none;\r\n    }\r\n    .error-msg {\r\n      position: absolute;\r\n      font-size: 14px;\r\n      color: #fc5659;\r\n      top: 98px;\r\n      left: 0;\r\n    }\r\n    a {\r\n      text-decoration: none;\r\n    }\r\n    .v-getcode {\r\n      position: absolute;\r\n      top: 5px;\r\n      right: 5px;\r\n      display: block;\r\n      width: 250px;\r\n      height: 80px;\r\n      line-height: 80px;\r\n      background-color: #ffd021;\r\n      color: #222;\r\n      text-align: center;\r\n      border-radius: 6px;\r\n      &.prohibit {\r\n        background-color: #ffd021;\r\n        opacity: 0.8;\r\n        &:hover {\r\n          background-color: #ffd021;\r\n          opacity: 0.8;\r\n        }\r\n      }\r\n      &:hover {\r\n        background-color: #fdd43f;\r\n      }\r\n      &:active {\r\n        background-color: #eec11a;\r\n      }\r\n      .v-getcode-span {\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./com-code.vue?vue&type=template&id=15c0d488&scoped=true&\"\nimport script from \"./com-code.vue?vue&type=script&lang=js&\"\nexport * from \"./com-code.vue?vue&type=script&lang=js&\"\nimport style0 from \"./com-code.vue?vue&type=style&index=0&id=15c0d488&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15c0d488\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\vhall\\\\fe_interaction_h5\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('15c0d488', component.options)\n    } else {\n      api.reload('15c0d488', component.options)\n    }\n    module.hot.accept(\"./com-code.vue?vue&type=template&id=15c0d488&scoped=true&\", function () {\n      api.rerender('15c0d488', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/common/signup/com-code.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-select.vue?vue&type=style&index=0&id=3eb9eb8b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-select.vue?vue&type=style&index=0&id=3eb9eb8b&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./sign-up.vue?vue&type=style&index=0&id=052ec8c4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./sign-up.vue?vue&type=style&index=0&id=052ec8c4&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"v-signup\" }, [\n    _c(\"p\", { staticClass: \"v-title\" }, [\n      _vm._v(\"\\n    为了更好的接收活动直播提醒，请填写如下信息：\\n  \")\n    ]),\n    _vm._v(\" \"),\n    _vm.activity.viewCondition === \"APPOINT\"\n      ? _c(\n          \"div\",\n          { staticClass: \"v-operation\" },\n          [\n            _vm._l(_vm.questionList, function(item) {\n              return [\n                item.type === \"mobile\"\n                  ? [\n                      _vm.user.isDisabled\n                        ? _c(\"com-input\", {\n                            attrs: {\n                              inputVal: _vm.user.phone,\n                              placeholder: item.placeholder,\n                              errorMsg: item.errorMsg,\n                              maxLength: 11,\n                              isDisabled: \"disabled\"\n                            },\n                            on: {\n                              \"update:inputVal\": function($event) {\n                                _vm.$set(_vm.user, \"phone\", $event)\n                              },\n                              \"update:errorMsg\": function($event) {\n                                _vm.$set(item, \"errorMsg\", $event)\n                              }\n                            }\n                          })\n                        : _c(\"com-input\", {\n                            attrs: {\n                              inputVal: item.val,\n                              placeholder: item.placeholder,\n                              errorMsg: item.errorMsg,\n                              maxLength: 11\n                            },\n                            on: {\n                              \"update:inputVal\": function($event) {\n                                _vm.$set(item, \"val\", $event)\n                              },\n                              \"update:errorMsg\": function($event) {\n                                _vm.$set(item, \"errorMsg\", $event)\n                              }\n                            }\n                          }),\n                      _vm._v(\" \"),\n                      !_vm.user.isDisabled\n                        ? _c(\"com-verification-code\", {\n                            attrs: {\n                              inputVal: _vm.code,\n                              code: _vm.code,\n                              phone: item.val,\n                              isGetCode: _vm.isGetCode,\n                              placeholder: \"请输入验证码\",\n                              maxLength: 6,\n                              errorMsg: _vm.codeError,\n                              codeType: \"APPLY_ACTIVITY\"\n                            },\n                            on: {\n                              \"update:inputVal\": function($event) {\n                                _vm.code = $event\n                              },\n                              \"update:code\": function($event) {\n                                _vm.code = $event\n                              },\n                              inputFocus: function($event) {\n                                _vm.getCode($event)\n                              },\n                              \"update:errorMsg\": function($event) {\n                                _vm.codeError = $event\n                              }\n                            }\n                          })\n                        : _vm._e()\n                    ]\n                  : item.type === \"email\"\n                    ? _c(\"com-input\", {\n                        attrs: {\n                          inputVal: item.val,\n                          placeholder: item.placeholder,\n                          errorMsg: item.errorMsg\n                        },\n                        on: {\n                          \"update:inputVal\": function($event) {\n                            _vm.$set(item, \"val\", $event)\n                          },\n                          \"update:errorMsg\": function($event) {\n                            _vm.$set(item, \"errorMsg\", $event)\n                          }\n                        }\n                      })\n                    : item.type === \"integer\"\n                      ? _c(\"com-input\", {\n                          attrs: {\n                            inputVal: item.val,\n                            placeholder: item.placeholder,\n                            errorMsg: item.errorMsg\n                          },\n                          on: {\n                            \"update:inputVal\": function($event) {\n                              _vm.$set(item, \"val\", $event)\n                            },\n                            \"update:errorMsg\": function($event) {\n                              _vm.$set(item, \"errorMsg\", $event)\n                            }\n                          }\n                        })\n                      : item.type === \"select\"\n                        ? _c(\"com-select\", {\n                            attrs: { selectOptions: item.detail },\n                            on: {\n                              selected: function($event) {\n                                _vm.selected($event, item.id)\n                              }\n                            }\n                          })\n                        : item.type === \"text\"\n                          ? _c(\"com-input\", {\n                              attrs: {\n                                inputVal: item.val,\n                                placeholder: item.placeholder,\n                                errorMsg: item.errorMsg\n                              },\n                              on: {\n                                \"update:inputVal\": function($event) {\n                                  _vm.$set(item, \"val\", $event)\n                                },\n                                \"update:errorMsg\": function($event) {\n                                  _vm.$set(item, \"errorMsg\", $event)\n                                }\n                              }\n                            })\n                          : _vm._e()\n              ]\n            }),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                staticClass: \"primary-button\",\n                on: { click: _vm.submitAppoint }\n              },\n              [_vm._v(\"提交\")]\n            )\n          ],\n          2\n        )\n      : _c(\n          \"div\",\n          { staticClass: \"v-operation\" },\n          [\n            _vm.user.isDisabled\n              ? _c(\"com-input\", {\n                  attrs: {\n                    inputVal: _vm.user.phone,\n                    placeholder: \"请输入手机号\",\n                    maxLength: 11,\n                    isDisabled: \"disabled\",\n                    errorMsg: _vm.phoneError\n                  },\n                  on: {\n                    \"update:inputVal\": function($event) {\n                      _vm.$set(_vm.user, \"phone\", $event)\n                    },\n                    \"update:errorMsg\": function($event) {\n                      _vm.phoneError = $event\n                    }\n                  }\n                })\n              : _c(\"com-input\", {\n                  attrs: {\n                    inputVal: _vm.user.phone,\n                    placeholder: \"请输入手机号\",\n                    maxLength: 11,\n                    errorMsg: _vm.phoneError\n                  },\n                  on: {\n                    \"update:inputVal\": function($event) {\n                      _vm.$set(_vm.user, \"phone\", $event)\n                    },\n                    \"update:errorMsg\": function($event) {\n                      _vm.phoneError = $event\n                    }\n                  }\n                }),\n            _vm._v(\" \"),\n            !_vm.user.isDisabled\n              ? _c(\"com-verification-code\", {\n                  attrs: {\n                    phone: _vm.user.phone,\n                    inputVal: _vm.code,\n                    code: _vm.code,\n                    isGetCode: _vm.isGetCode,\n                    placeholder: \"输入验证码\",\n                    maxLength: 6,\n                    errorMsg: _vm.codeError,\n                    codeType: \"CONSUMER_USER_LOGIN\"\n                  },\n                  on: {\n                    \"update:inputVal\": function($event) {\n                      _vm.code = $event\n                    },\n                    \"update:code\": function($event) {\n                      _vm.code = $event\n                    },\n                    inputFocus: function($event) {\n                      _vm.getCode($event)\n                    },\n                    \"update:errorMsg\": function($event) {\n                      _vm.codeError = $event\n                    }\n                  }\n                })\n              : _vm._e(),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              { staticClass: \"primary-button\", on: { click: _vm.submit } },\n              [_vm._v(\"提交\")]\n            )\n          ],\n          1\n        ),\n    _vm._v(\" \"),\n    _vm._m(0)\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"p\", { staticClass: \"v-explain\" }, [\n      _vm._v(\"\\n    我已阅读并遵守\"),\n      _c(\"span\", { staticClass: \"v-blue\" }, [_vm._v(\"《服务条款》\")])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"v-select\" },\n    [\n      _c(\n        \"el-select\",\n        {\n          attrs: { placeholder: \"请选择\" },\n          model: {\n            value: _vm.val,\n            callback: function($$v) {\n              _vm.val = $$v\n            },\n            expression: \"val\"\n          }\n        },\n        _vm._l(_vm.selectOptions, function(item) {\n          return _c(\"el-option\", {\n            key: item.id,\n            attrs: { label: item.value, value: item.key }\n          })\n        })\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"v-select\">\n    <el-select v-model=\"val\" placeholder=\"请选择\">\n      <el-option\n        v-for=\"item in selectOptions\"\n        :key=\"item.id\"\n        :label=\"item.value\"\n        :value=\"item.key\">\n      </el-option>\n    </el-select>\n  </div>\n</template>\n<script>\n  export default {\n    props: {\n      selectOptions: Array\n    },\n    data () {\n      return {\n        val: ''\n      }\n    },\n    mounted () {\n    },\n    components: {\n    },\n    created () {\n    },\n    watch: {\n      // selectValue: function () {\n      //   this.val = this.selectValue\n      // },\n      val: function () {\n        this.$emit('selected', this.val)\n      }\n    },\n    methods: {\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n.v-select /deep/ {\n  width: 100%;\n  margin-bottom: 50px;\n  .el-select {\n    width: 100%;\n    height: 90px;\n    line-height: 88px;\n    border: 1px solid #ccc;\n    border-radius: 8px;\n    .el-input__inner {\n      color: #888;\n      padding: 0 20px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-select.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./com-select.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./com-select.vue?vue&type=template&id=3eb9eb8b&scoped=true&\"\nimport script from \"./com-select.vue?vue&type=script&lang=js&\"\nexport * from \"./com-select.vue?vue&type=script&lang=js&\"\nimport style0 from \"./com-select.vue?vue&type=style&index=0&id=3eb9eb8b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3eb9eb8b\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\vhall\\\\fe_interaction_h5\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3eb9eb8b', component.options)\n    } else {\n      api.reload('3eb9eb8b', component.options)\n    }\n    module.hot.accept(\"./com-select.vue?vue&type=template&id=3eb9eb8b&scoped=true&\", function () {\n      api.rerender('3eb9eb8b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/common/signup/com-select.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./sign-up.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_happypack@5.0.0@happypack/loader.js?id=happy-babel-js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./sign-up.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"v-signup\">\r\n    <p class=\"v-title\">\r\n      为了更好的接收活动直播提醒，请填写如下信息：\r\n    </p>\r\n    <div class=\"v-operation\" v-if=\"activity.viewCondition === 'APPOINT'\">\r\n      <template v-for=\"item in questionList\">\r\n        <template v-if=\"item.type === 'mobile'\">\r\n          <com-input  :inputVal.sync=\"user.phone\" :placeholder='item.placeholder' :errorMsg.sync=\"item.errorMsg\" :maxLength=\"11\" v-if=\"user.isDisabled\" isDisabled=\"disabled\"></com-input>\r\n          <com-input  :inputVal.sync=\"item.val\" :placeholder='item.placeholder' :errorMsg.sync=\"item.errorMsg\" :maxLength=\"11\" v-else></com-input>\r\n          <com-verification-code :inputVal.sync=\"code\" :code.sync=\"code\" v-if=\"!user.isDisabled\" :phone=\"item.val\"  @inputFocus=\"getCode($event)\" :isGetCode=\"isGetCode\" placeholder='请输入验证码' :maxLength=\"6\" :errorMsg.sync=\"codeError\" codeType=\"APPLY_ACTIVITY\"></com-verification-code>\r\n        </template>\r\n        <com-input v-else-if=\"item.type === 'email'\" :inputVal.sync=\"item.val\" :placeholder='item.placeholder' :errorMsg.sync=\"item.errorMsg\"></com-input>\r\n        <com-input v-else-if=\"item.type === 'integer'\" :inputVal.sync=\"item.val\" :placeholder='item.placeholder' :errorMsg.sync=\"item.errorMsg\"></com-input>\r\n        <com-select v-else-if=\"item.type === 'select'\" :selectOptions=\"item.detail\" @selected=\"selected($event, item.id)\"></com-select>\r\n        <com-input v-else-if=\"item.type === 'text'\" :inputVal.sync=\"item.val\" :placeholder='item.placeholder' :errorMsg.sync=\"item.errorMsg\"></com-input>\r\n      </template>\r\n      <button class=\"primary-button\" @click=\"submitAppoint\">提交</button>\r\n    </div>\r\n    <div class=\"v-operation\" v-else>\r\n      <com-input :inputVal.sync=\"user.phone\" placeholder='请输入手机号' :maxLength=\"11\" v-if=\"user.isDisabled\" isDisabled=\"disabled\" :errorMsg.sync=\"phoneError\"></com-input>\r\n      <com-input :inputVal.sync=\"user.phone\" placeholder='请输入手机号' :maxLength=\"11\" v-else :errorMsg.sync=\"phoneError\"></com-input>\r\n      <com-verification-code :phone='user.phone' v-if=\"!user.isDisabled\" :inputVal.sync=\"code\"  :code.sync=\"code\" @inputFocus=\"getCode($event)\" :isGetCode=\"isGetCode\" placeholder='输入验证码' :maxLength=\"6\" :errorMsg.sync=\"codeError\" codeType=\"CONSUMER_USER_LOGIN\"></com-verification-code>\r\n      <button class=\"primary-button\" @click=\"submit\">提交</button>\r\n    </div>\r\n    <p class=\"v-explain\">\r\n      我已阅读并遵守<span class=\"v-blue\">《服务条款》</span>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ComInput from '../../components/common/signup/com-input.vue'\r\n  import ComVerificationCode from '../../components/common/signup/com-code.vue'\r\n  import ComSelect from '../../components/common/signup/com-select.vue'\r\n  import loginMixin from 'components/login-mixin'\r\n  import activityService from 'src/api/activity-service'\r\n  import userService from 'src/api/user-service'\r\n  export default {\r\n    mixins: [loginMixin],\r\n    data () {\r\n      return {\r\n        code: '',\r\n        isGetCode: true, // 控制验证码\r\n        activity: {\r\n          viewCondition: 'APPOINT', // 活动类型 APPOINT报名观看 NONE 无条件\r\n          status: '' // 当前活动状态\r\n        },\r\n        questionList: [], // 报名表单\r\n        codeError: '', // 验证码错误提示\r\n        phoneError: '', // 预约活动手机错误提示\r\n        user: {\r\n          phone: '', // 无条件观看用户手机\r\n          isApplay: false, // 是否已经报名\r\n          isOrder: false, // 是否已经预约\r\n          isDisabled: false // 手机框是否可输入\r\n        },\r\n        selectVal: [] // 下拉\r\n      }\r\n    },\r\n    mounted () {\r\n    },\r\n    components: {\r\n      'com-input': ComInput,\r\n      'com-verification-code': ComVerificationCode,\r\n      'com-select': ComSelect\r\n    },\r\n    created () {\r\n      this.getActivity()\r\n      let userInfo = JSON.parse(sessionStorage.getItem('login'))\r\n      if (userInfo) {\r\n        this.user.phone = userInfo.mobile\r\n        if (this.user.phone) {\r\n          this.user.isDisabled = true\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n    },\r\n    methods: {\r\n      getCode (val) {\r\n        this.code = val\r\n      },\r\n      selected (val, id) {\r\n        let isCz = false\r\n        for (let i = 0; i < this.selectVal.length; i++) {\r\n          if (this.selectVal[i]['questionId'] === id) {\r\n            this.selectVal[i]['answer'] = val\r\n            isCz = true\r\n            return false\r\n          }\r\n        }\r\n        if (!isCz) {\r\n          let obj = []\r\n          obj['questionId'] = id\r\n          obj['answer'] = val\r\n          this.selectVal.push(obj)\r\n        }\r\n      },\r\n      submitAppoint () {\r\n        let isVerification = true\r\n        let data = {\r\n          activityId: this.$route.params.id,\r\n          answer: [],\r\n          __errHandler: true\r\n        }\r\n        this.questionList.forEach(element => {\r\n          if (isVerification && !this.verification(element.val, element.required, element.type)) {\r\n            switch (element.type) {\r\n              case 'mobile': element.errorMsg = '请正确填写手机号'\r\n                break\r\n              case 'email': element.errorMsg = '请正确填写邮箱'\r\n                break\r\n              default: element.errorMsg = '请正确填写表格'\r\n                break\r\n            }\r\n            isVerification = false\r\n          }\r\n          if (element.type === 'mobile') {\r\n            data.mobile = this.user.phone === '' ? element.val : this.user.phone\r\n            let obj = {}\r\n            obj.questionId = element.id\r\n            obj.answer = data.mobile\r\n            data.answer.push(obj)\r\n          } else if (element.type !== 'select') {\r\n            let obj = {}\r\n            obj.questionId = element.id\r\n            obj.answer = element.val\r\n            data.answer.push(obj)\r\n          }\r\n        })\r\n        if (isVerification) {\r\n          if (!this.user.isDisabled) {\r\n            if (!this.verification(this.code, 'Y', 'integer')) {\r\n              this.codeError = '请输入正确验证码'\r\n            }\r\n            data.code = this.code\r\n          }\r\n          if (this.selectVal) {\r\n            for (let i = 0; i < this.selectVal.length; i++) {\r\n              let obj = {}\r\n              obj.questionId = this.selectVal[i].questionId\r\n              obj.answer = this.selectVal[i].answer\r\n              data.answer.push(obj)\r\n            }\r\n          }\r\n\r\n          this.$post(activityService.POST_QUESTIONINFO, data).then((res) => {\r\n            this.$router.replace('/Success/' + this.$route.params.id)\r\n          })\r\n        }\r\n      },\r\n      getActivity () { // 获取活动信息\r\n        this.$config({ handlers: true }).$get(activityService.GET_LIVEINFO, {\r\n          activityId: this.$route.params.id\r\n        }).then((res) => {\r\n          this.activity.viewCondition = res.data.activity.viewCondition\r\n          this.activity.status = res.data.activity.status\r\n          this.user.isApplay = res.data.joinInfo.isApplay\r\n          this.user.isOrder = res.data.joinInfo.isOrder\r\n          if (this.activity.viewCondition === 'APPOINT') {\r\n            this.getQuestionLists()\r\n          }\r\n        })\r\n      },\r\n      subScribe () { // 预约活动\r\n        let data = {\r\n          activityId: this.$route.params.id\r\n        }\r\n        this.$config({ handlers: true }).$post(activityService.POST_SUBSCRIBE, data).then((res) => {\r\n          this.$router.replace('/Success/' + this.$route.params.id)\r\n        }).catch((err) => {\r\n          this.$messageBox({\r\n            header: '提示',\r\n            content: err.msg,\r\n            confirmText: '确定',\r\n            handleClick: (e) => {\r\n              if (e.action === 'cancel') {\r\n              } else if (e.action === 'confirm') {\r\n              }\r\n            }\r\n          })\r\n        })\r\n      },\r\n      submit () {\r\n        if (!this.verification(this.user.phone, 'Y', 'mobile')) {\r\n          this.phoneError = '请正确填写手机号'\r\n          return false\r\n        }\r\n        if (!this.user.isDisabled) {\r\n          if (!this.verification(this.code, 'Y', 'integer')) {\r\n            this.codeError = '请输入正确验证码'\r\n            return false\r\n          }\r\n        }\r\n        if (this.user.isOrder || this.user.isDisabled) {\r\n          this.subScribe()\r\n        } else {\r\n          this.$config({ handlers: true }).$post(userService.POST_MOBILELOGIN, {\r\n            mobile: this.user.phone,\r\n            code: this.code,\r\n            wechatAuth: sessionStorage.getItem('wechatAuth')\r\n          }).then((res) => {\r\n            if (res.code === 200) {\r\n              if (res.data) {\r\n                sessionStorage.setItem('login', JSON.stringify(res.data))\r\n                this.$config({ handlers: true }).$get(activityService.GET_LIVEINFO, {\r\n                  activityId: this.$route.params.id\r\n                }).then((res) => {\r\n                  if (res.data.joinInfo.isOrder) {\r\n                    this.$router.replace('/Success/' + this.$route.params.id)\r\n                  } else {\r\n                    this.subScribe()\r\n                  }\r\n                }).catch((err) => {\r\n                  this.$messageBox({\r\n                    header: '提示',\r\n                    content: err.msg,\r\n                    confirmText: '确定',\r\n                    handleClick: (e) => {\r\n                      if (e.action === 'cancel') {\r\n                      } else if (e.action === 'confirm') {\r\n                      }\r\n                    }\r\n                  })\r\n                })\r\n              } else {\r\n                this.$messageBox({\r\n                  header: '提示',\r\n                  content: res.msg,\r\n                  confirmText: '确定',\r\n                  handleClick: (e) => {\r\n                    if (e.action === 'cancel') {\r\n                    } else if (e.action === 'confirm') {\r\n                    }\r\n                  }\r\n                })\r\n                sessionStorage.removeItem('login')\r\n                sessionStorage.removeItem('wechatAuth')\r\n              }\r\n            }\r\n          })\r\n        }\r\n      },\r\n      getQuestionLists () {\r\n        this.$get(activityService.GET_QUESTIONINFO, {\r\n          activityId: this.$route.params.id\r\n        }).then((res) => {\r\n          this.questionList = res.data.questionList.map((item) => {\r\n            item.val = ''\r\n            item.errorMsg = ''\r\n            return item\r\n          })\r\n        })\r\n      },\r\n      verification (val, isRequired, type) {\r\n        let phoneReg = /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/\r\n        let emailReg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/\r\n        let integerReg = /^[0-9]*$/\r\n\r\n        if (type === 'mobile') {\r\n          val = this.user.phone === '' ? val : this.user.phone\r\n        }\r\n        if (val === '') {\r\n          if (isRequired === 'Y') {\r\n            return false\r\n          }\r\n        } else {\r\n          switch (type) {\r\n            case 'mobile': val = this.user.phone === '' ? val : this.user.phone\r\n              return phoneReg.test(val)\r\n            case 'integer': return integerReg.test(val)\r\n            case 'email': return emailReg.test(val)\r\n          }\r\n        }\r\n        return true\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.v-signup {\r\n  .v-title {\r\n    font-size: 28px;\r\n    margin-bottom: 30px;\r\n  }\r\n  .v-explain {\r\n    text-align: center;\r\n    font-size: 22px;\r\n    color: #555;\r\n    margin-top: 15px;\r\n    .v-blue {\r\n      color: #4b5afe;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render, staticRenderFns } from \"./sign-up.vue?vue&type=template&id=052ec8c4&scoped=true&\"\nimport script from \"./sign-up.vue?vue&type=script&lang=js&\"\nexport * from \"./sign-up.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sign-up.vue?vue&type=style&index=0&id=052ec8c4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"052ec8c4\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\work\\\\vhall\\\\fe_interaction_h5\\\\node_modules\\\\_vue-hot-reload-api@2.3.1@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('052ec8c4', component.options)\n    } else {\n      api.reload('052ec8c4', component.options)\n    }\n    module.hot.accept(\"./sign-up.vue?vue&type=template&id=052ec8c4&scoped=true&\", function () {\n      api.rerender('052ec8c4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/guide/sign-up.vue\"\nexport default component.exports"],"sourceRoot":""}