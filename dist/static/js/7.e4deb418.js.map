{"version":3,"sources":["webpack:///./src/pages/guide/check-state.vue?906f","webpack:///./src/pages/guide/check-state.vue?6656","webpack:///./src/pages/guide/check-state.vue?3d54","webpack:///src/pages/guide/check-state.vue","webpack:///./src/pages/guide/check-state.vue"],"names":["_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_check_state_vue_vue_type_style_index_0_id_40b23aa5_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","user","isDisabled","attrs","inputVal","phone","placeholder","maxLength","type","errorMsg","phoneError","on","update:inputVal","$event","$set","update:errorMsg","_v","_e","code","isGetCode","codeError","codeType","update:code","inputFocus","getCode","click","submit","_withStripped","guide_check_statevue_type_script_lang_js_","mixins","data","MOBILE_HOST","activity","viewCondition","countDown","status","isApplay","isOrder","isClick","mounted","components","com-input","com_input","com-verification-code","com_code","created","getActivity","userInfo","JSON","parse","sessionStorage","getItem","mobile","watch","methods","val","subScribe","_this","activityId","$route","params","id","$config","handlers","$post","activity_service","GET_LIVEINFO","then","res","viewLimit","canAppoint","joinInfo","doAuth","$router","replace","joinInfoisOrder","joinInfoisApplay","catch","err","$messageBox","header","content","msg","confirmText","handleClick","e","action","_this2","verification","user_service","POST_MOBILELOGIN","wechatAuth","setItem","stringify_default","$get","removeItem","isRequired","test","_this3","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/7.e4deb418.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./check-state.vue?vue&type=style&index=0&id=40b23aa5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./check-state.vue?vue&type=style&index=0&id=40b23aa5&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"v-checkState\" },\n    [\n      _vm.user.isDisabled\n        ? _c(\"com-input\", {\n            attrs: {\n              inputVal: _vm.user.phone,\n              placeholder: \"请输入手机号\",\n              maxLength: 11,\n              isDisabled: \"disabled\",\n              type: \"mobile\",\n              errorMsg: _vm.phoneError\n            },\n            on: {\n              \"update:inputVal\": function($event) {\n                _vm.$set(_vm.user, \"phone\", $event)\n              },\n              \"update:errorMsg\": function($event) {\n                _vm.phoneError = $event\n              }\n            }\n          })\n        : _c(\"com-input\", {\n            attrs: {\n              inputVal: _vm.user.phone,\n              placeholder: \"请输入手机号\",\n              maxLength: 11,\n              type: \"mobile\",\n              errorMsg: _vm.phoneError\n            },\n            on: {\n              \"update:inputVal\": function($event) {\n                _vm.$set(_vm.user, \"phone\", $event)\n              },\n              \"update:errorMsg\": function($event) {\n                _vm.phoneError = $event\n              }\n            }\n          }),\n      _vm._v(\" \"),\n      !_vm.user.isDisabled\n        ? _c(\"com-verification-code\", {\n            attrs: {\n              phone: _vm.user.phone,\n              inputVal: _vm.code,\n              code: _vm.code,\n              isGetCode: _vm.isGetCode,\n              placeholder: \"输入验证码\",\n              maxLength: 6,\n              errorMsg: _vm.codeError,\n              codeType: \"CONSUMER_USER_LOGIN\"\n            },\n            on: {\n              \"update:inputVal\": function($event) {\n                _vm.code = $event\n              },\n              \"update:code\": function($event) {\n                _vm.code = $event\n              },\n              inputFocus: function($event) {\n                _vm.getCode($event)\n              },\n              \"update:errorMsg\": function($event) {\n                _vm.codeError = $event\n              }\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        { staticClass: \"primary-button\", on: { click: _vm.submit } },\n        [_vm._v(\"提交\")]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./check-state.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./check-state.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"v-checkState\">\n    <com-input :inputVal.sync=\"user.phone\"\n               placeholder='请输入手机号'\n               :maxLength=\"11\"\n               v-if=\"user.isDisabled\"\n               isDisabled=\"disabled\"\n               type=\"mobile\"\n               :errorMsg.sync=\"phoneError\"></com-input>\n    <com-input :inputVal.sync=\"user.phone\"\n               placeholder='请输入手机号'\n               :maxLength=\"11\"\n               type=\"mobile\"\n               v-else\n               :errorMsg.sync=\"phoneError\"></com-input>\n    <com-verification-code :phone='user.phone'\n                           :inputVal.sync=\"code\"\n                           v-if=\"!user.isDisabled\"\n                           :code.sync=\"code\"\n                           @inputFocus=\"getCode($event)\"\n                           :isGetCode=\"isGetCode\"\n                           placeholder='输入验证码'\n                           :maxLength=\"6\"\n                           :errorMsg.sync=\"codeError\"\n                           codeType=\"CONSUMER_USER_LOGIN\"></com-verification-code>\n    <button class=\"primary-button\"\n            @click=\"submit\">提交</button>\n  </div>\n</template>\n<script>\nimport ComInput from '../../components/common/signup/com-input.vue'\nimport ComVerificationCode from '../../components/common/signup/com-code.vue'\nimport activityService from 'src/api/activity-service'\nimport userService from 'src/api/user-service'\nimport loginMixin from 'components/login-mixin'\nexport default {\n  mixins: [loginMixin],\n  data () {\n    return {\n      MOBILE_HOST: process.env.MOBILE_HOST,\n      code: '',\n      isGetCode: true, // 控制验证码\n      activity: {\n        viewCondition: '', // APPOINT是报名活动 ''是无限制活动\n        countDown: '', // 距离活动开始时间（秒）\n        status: '' // 当前活动状态\n      },\n      user: {\n        phone: '', // 无条件观看用户手机\n        isApplay: false, // 是否已经报名\n        isOrder: false, // 是否已经预约\n        isDisabled: false // 手机框是否可输入\n      },\n      codeError: '', // 验证码错误提示\n      phoneError: '',\n      isClick: true // 无条件是否可点击\n    }\n  },\n  mounted () {\n  },\n  components: {\n    'com-input': ComInput,\n    'com-verification-code': ComVerificationCode\n  },\n  created () {\n    this.getActivity()\n    let userInfo = JSON.parse(sessionStorage.getItem('login'))\n    if (userInfo) {\n      this.user.phone = userInfo.mobile\n      if (this.user.phone) {\n        this.user.isDisabled = true\n      }\n    }\n  },\n  watch: {\n  },\n  methods: {\n    getCode (val) {\n      this.code = val\n    },\n    subScribe () { // 预约活动\n      let data = {\n        activityId: this.$route.params.id\n      }\n      this.$config({ handlers: true }).$post(activityService.GET_LIVEINFO, data).then((res) => {\n        if (res.data.viewLimit.canAppoint === 'N' && res.data.activity.viewCondition === 'APPOINT' && !res.data.joinInfo.isApplay) {\n          this.phoneError = '您输入的手机号未参与报名'\n        } else {\n          if (res.data.activity.status === 'LIVING') {\n            if (res.data.activity.viewCondition === 'APPOINT') {\n              if (res.data.joinInfo.isApplay) {\n                this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n              } else {\n                this.$router.replace('/Success/' + this.$route.params.id)\n              }\n            } else if (res.data.joinInfoisOrder && res.data.activity.viewCondition === 'NONE') {\n              this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n            } else {\n              this.$router.replace('/Success/' + this.$route.params.id)\n            }\n          } else if (res.data.activity.countDown < 1800) {\n            if (res.data.activity.viewCondition === 'APPOINT') {\n              if (res.data.joinInfoisApplay) {\n                this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n              } else {\n                this.$router.replace('/Success/' + this.$route.params.id)\n              }\n            } else if (res.data.joinInfoisOrder && res.data.activity.viewCondition === 'NONE') {\n              this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n            } else {\n              this.$router.replace('/Success/' + this.$route.params.id)\n            }\n          } else {\n            this.$router.replace('/Success/' + this.$route.params.id)\n          }\n        }\n      }).catch((err) => {\n        this.isClick = false\n        this.$messageBox({\n          header: '提示',\n          content: err.msg,\n          confirmText: '确定',\n          handleClick: (e) => {\n            if (e.action === 'cancel') {\n            } else if (e.action === 'confirm') {\n            }\n          }\n        })\n      })\n    },\n    submit () { // 提交验证信息\n      if (!this.isClick) {\n        return false\n      }\n      if (!this.verification(this.user.phone, 'Y', 'mobile')) {\n        this.phoneError = '请正确填写手机号'\n        return false\n      }\n      if (!this.user.isDisabled) {\n        if (!this.verification(this.code, 'Y', 'code')) {\n          this.codeError = '请输入正确验证码'\n          return false\n        }\n      }\n      this.isClick = false\n      if (this.user.isOrder || this.user.isDisabled) {\n        this.subScribe()\n      } else {\n        this.$config({ handlers: true }).$post(userService.POST_MOBILELOGIN, {\n          mobile: this.user.phone,\n          code: this.code,\n          wechatAuth: sessionStorage.getItem('wechatAuth')\n        }).then((res) => {\n          if (res.data) {\n            sessionStorage.setItem('login', JSON.stringify(res.data))\n            this.$config({ handlers: true }).$get(activityService.GET_LIVEINFO, {\n              activityId: this.$route.params.id\n            }).then((res) => {\n              if (res.data.joinInfo.isOrder) {\n                this.$router.replace('/guide/' + this.$route.params.id)\n              } else {\n                this.subScribe()\n              }\n            }).catch((err) => {\n              this.isClick = true\n              this.$messageBox({\n                header: '提示',\n                content: err.msg,\n                confirmText: '确定',\n                handleClick: (e) => {\n                  if (e.action === 'cancel') {\n                  } else if (e.action === 'confirm') {\n                  }\n                }\n              })\n            })\n          } else {\n            this.$messageBox({\n              header: '提示',\n              content: res.msg,\n              confirmText: '确定',\n              handleClick: (e) => {\n                if (e.action === 'cancel') {\n                } else if (e.action === 'confirm') {\n                }\n              }\n            })\n            sessionStorage.removeItem('login')\n            sessionStorage.removeItem('wechatAuth')\n          }\n        }).catch((err) => {\n          if (err.code === 10020) {\n            this.codeError = '请输入正确验证码'\n          } else if (err.code === 12002) {\n            if (this.activity.status === 'LIVING') {\n              this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n            } else if (this.activity.countDown < 1800) {\n              this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n            } else {\n              this.$router.replace('/Success/' + this.$route.params.id)\n            }\n          } else {\n            this.$messageBox({\n              header: '提示',\n              content: err.msg,\n              confirmText: '确定',\n              handleClick: (e) => {\n                if (e.action === 'cancel') {\n                } else if (e.action === 'confirm') {\n                }\n              }\n            })\n          }\n        })\n      }\n    },\n    verification (val, isRequired, type) {\n      let phoneReg = /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/\n      let emailReg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/\n      let integerReg = /^[0-9]*$/\n      let codeReg = /^\\d{6}$/\n\n      if (type === 'mobile') {\n        val = this.user.phone === '' ? val : this.user.phone\n      }\n      if (type === 'code') {\n        return codeReg.test(val)\n      }\n      if (val === '') {\n        if (isRequired === 'Y') {\n          return false\n        }\n      } else {\n        switch (type) {\n          case 'mobile': val = this.user.phone === '' ? val : this.user.phone\n            return phoneReg.test(val)\n          case 'integer': return integerReg.test(val)\n          case 'email': return emailReg.test(val)\n        }\n      }\n      return true\n    },\n    getActivity () { // 获取活动信息\n      this.$config({ handlers: true }).$get(activityService.GET_LIVEINFO, {\n        activityId: this.$route.params.id\n      }).then((res) => {\n        this.activity.status = res.data.activity.status\n        this.activity.countDown = res.data.activity.countDown\n        this.activity.viewCondition = res.data.activity.viewCondition\n        this.user.isApplay = res.data.joinInfo.isApplay\n        this.user.isOrder = res.data.joinInfo.isOrder\n        if (this.activity.status === 'LIVING') {\n          if (this.user.isApplay && this.activity.viewCondition === 'APPOINT') {\n            this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n          } else if (this.activity.viewCondition === 'NONE') {\n            this.doAuth(this.MOBILE_HOST + 'guide/' + this.$route.params.id)\n          }\n        }\n        if (this.activity.countDown < 1800) {\n          if (this.user.isApplay && this.activity.viewCondition === 'APPOINT') {\n            this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n          } else if (this.activity.viewCondition === 'NONE') {\n            this.doAuth(this.MOBILE_HOST + 'watch/' + this.$route.params.id)\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.v-checkState {\n}\n</style>\n\n","import { render, staticRenderFns } from \"./check-state.vue?vue&type=template&id=40b23aa5&scoped=true&\"\nimport script from \"./check-state.vue?vue&type=script&lang=js&\"\nexport * from \"./check-state.vue?vue&type=script&lang=js&\"\nimport style0 from \"./check-state.vue?vue&type=style&index=0&id=40b23aa5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40b23aa5\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/x.g/Documents/work/fe_interaction_h5/node_modules/_vue-hot-reload-api@2.3.1@vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('40b23aa5', component.options)\n    } else {\n      api.reload('40b23aa5', component.options)\n    }\n    module.hot.accept(\"./check-state.vue?vue&type=template&id=40b23aa5&scoped=true&\", function () {\n      api.rerender('40b23aa5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/guide/check-state.vue\"\nexport default component.exports"],"sourceRoot":""}