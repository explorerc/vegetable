{"version":3,"sources":["webpack:///./src/pages/user/edit.vue?1d3b","webpack:///./src/pages/user/edit.vue?bfca","webpack:///./src/pages/user/edit.vue?79f7","webpack:///src/pages/user/edit.vue","webpack:///./src/pages/user/edit.vue"],"names":["_node_modules_mini_css_extract_plugin_0_4_3_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_1_0_0_css_loader_index_js_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_edit_vue_vue_type_style_index_0_id_fe0f7e0c_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","href","MOBILE_HOST","_v","_s","title","maxLength","value","val","placeholder","type","isCharacter","max-length","on","update:value","$event","focus","inputFocus","errorTips","_e","click","save","_withStripped","user_editvue_type_script_lang_js_","mixins","login_mixin","data","created","_this","$route","params","getLoginInfo","storeLoginInfo","centerInfo","consumerUser","consumerUserId","$config","handlers","$post","user_service","GET_CENTER_INFO","then","res","storeCenterInfo","nickName","email","catch","err","$messageBox","header","content","msg","confirmText","handleClick","e","action","$router","replace","location","computed","extends_default","Object","vuex_esm","state","loginInfo","props","watch","methods","mutation_types","_this2","verification","POST_CENTER_UPDATE","tempLoginInfo","JSON","parse","stringify_default","tempCenterInfo","isRequired","gbLength","test","inputBlur","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/15.1b0a8480.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=fe0f7e0c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.3@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@1.0.0@css-loader/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=fe0f7e0c&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"v-user-edit\" }, [\n    _c(\n      \"a\",\n      {\n        staticClass: \"v-return-userinfo clearfix\",\n        attrs: { href: _vm.MOBILE_HOST + \"userinfo\" }\n      },\n      [\n        _c(\"i\", { staticClass: \"iconfont icon-jiantouzuo fl\" }),\n        _vm._v(\"修改\" + _vm._s(_vm.title) + \"\\n  \")\n      ]\n    ),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"v-edit\" }, [\n      _c(\n        \"div\",\n        { staticClass: \"v-content\" },\n        [\n          _vm.maxLength\n            ? _c(\"com-input\", {\n                staticClass: \"v-input\",\n                attrs: {\n                  value: _vm.val,\n                  placeholder: _vm.placeholder,\n                  type: \"input\",\n                  isCharacter: _vm.isCharacter,\n                  \"max-length\": _vm.maxLength\n                },\n                on: {\n                  \"update:value\": function($event) {\n                    _vm.val = $event\n                  }\n                }\n              })\n            : _c(\"com-input\", {\n                staticClass: \"v-input\",\n                attrs: {\n                  value: _vm.val,\n                  placeholder: _vm.placeholder,\n                  type: \"input\",\n                  isCharacter: _vm.isCharacter\n                },\n                on: {\n                  \"update:value\": function($event) {\n                    _vm.val = $event\n                  },\n                  focus: _vm.inputFocus\n                }\n              })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"p\", { staticClass: \"v-error\" }, [\n        _vm.errorTips\n          ? _c(\"i\", { staticClass: \"iconfont icon-Shapex fl\" })\n          : _vm._e(),\n        _vm._v(_vm._s(_vm.errorTips) + \"\\n    \")\n      ]),\n      _vm._v(\" \"),\n      _c(\"button\", { staticClass: \"primary-button\", on: { click: _vm.save } }, [\n        _vm._v(\"\\n      保存\\n    \")\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"v-user-edit\">\n    <a :href=\"MOBILE_HOST+'userinfo'\" class=\"v-return-userinfo clearfix\">\n      <i class=\"iconfont icon-jiantouzuo fl\"></i>修改{{title}}\n    </a>\n    <div class=\"v-edit\">\n      <div class=\"v-content\">\n      <com-input :value.sync=\"val\"\n                 :placeholder=\"placeholder\"\n                 class=\"v-input\"\n                 type=\"input\"\n                 :isCharacter=\"isCharacter\"\n                 :max-length=\"maxLength\"\n                 v-if=\"maxLength\"></com-input>\n      <com-input :value.sync=\"val\"\n                 :placeholder=\"placeholder\"\n                 class=\"v-input\"\n                 type=\"input\"\n                 :isCharacter=\"isCharacter\"\n                 @focus=\"inputFocus\"\n                 v-else></com-input>\n      </div>\n      <p class=\"v-error\">\n        <i class=\"iconfont icon-Shapex fl\" v-if=\"errorTips\"></i>{{errorTips}}\n      </p>\n      <button class=\"primary-button\" @click=\"save\">\n        保存\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nimport loginMixin from 'components/login-mixin'\nimport { mapMutations, mapState } from 'vuex'\nimport * as types from '../../store/mutation-types.js'\nimport userService from 'src/api/user-service'\nexport default {\n  mixins: [loginMixin],\n  data () {\n    return {\n      MOBILE_HOST: process.env.MOBILE_HOST,\n      title: '', // 修改类型名称\n      errorTips: '', // 错误提示信息\n      val: '', // 用户填写的信息\n      type: '',\n      placeholder: '',\n      maxLength: 0,\n      isCharacter: 'false'\n    }\n  },\n  created () {\n    this.type = this.$route.params.type\n    if (this.getLoginInfo()) {\n      this.storeLoginInfo(this.getLoginInfo())\n      if (!this.centerInfo.consumerUser.consumerUserId) {\n        this.$config({ handlers: true }).$post(userService.GET_CENTER_INFO, {}).then((res) => {\n          this.storeCenterInfo(res.data)\n          switch (this.type) {\n            case 'name': this.title = '昵称'\n              this.val = this.centerInfo.consumerUser.nickName\n              this.placeholder = '请填写昵称'\n              this.maxLength = 14\n              break\n            case 'email': this.title = '邮箱'\n              this.val = this.centerInfo.consumerUser.email\n              this.placeholder = '请填写邮箱'\n              this.isCharacter = true\n              this.maxLength = 40\n              break\n          }\n        }).catch(err => {\n          this.$messageBox({\n            header: '提示',\n            content: err.msg,\n            confirmText: '确定',\n            handleClick: (e) => {\n              if (e.action === 'cancel') {\n                this.$router.replace('/user')\n              } else if (e.action === 'confirm') {\n                this.$router.replace('/user')\n              }\n            }\n          })\n        })\n      }\n    } else {\n      location.replace(`${this.MOBILE_HOST}user`)\n    }\n  },\n  computed: {\n    ...mapState('login', {\n      centerInfo: state => state.centerInfo,\n      loginInfo: state => state.loginInfo\n    })\n  },\n  props: {\n  },\n  watch: {\n  },\n  methods: {\n    ...mapMutations('login', {\n      storeCenterInfo: types.CENTER_INFO,\n      storeLoginInfo: types.LOGIN_INFO\n    }),\n    save () {\n      if (!this.val) {\n        switch (this.type) {\n          case 'name':\n            this.errorTips = '请输入昵称'\n            break\n          case 'email':\n            this.errorTips = '请输入邮箱'\n            break\n        }\n        return false\n      }\n      if (!this.verification(this.val, true, this.type)) {\n        this.errorTips = `${this.title}格式有误`\n        return false\n      }\n      let data = {}\n      switch (this.$route.params.type) {\n        case 'name':\n          data.nickName = this.val\n          break\n        case 'email':\n          data.email = this.val\n          break\n      }\n      this.$config({ handlers: true }).$post(userService.POST_CENTER_UPDATE, data).then((res) => {\n        let tempLoginInfo = JSON.parse(JSON.stringify(this.centerInfo))\n        let tempCenterInfo = JSON.parse(JSON.stringify(this.centerInfo))\n        switch (this.$route.params.type) {\n          case 'name': this.title = '昵称'\n            tempLoginInfo.nickName = this.val\n            tempCenterInfo.consumerUser.nickName = this.val\n            break\n          case 'email': this.title = '邮箱'\n            tempLoginInfo.email = this.val\n            tempCenterInfo.consumerUser.email = this.val\n            break\n        }\n        this.storeLoginInfo(tempLoginInfo)\n        this.storeCenterInfo(tempCenterInfo)\n        this.$router.replace('/userinfo')\n      }).catch(err => {\n        this.$messageBox({\n          header: '提示',\n          content: err.msg,\n          confirmText: '确定',\n          handleClick: (e) => {\n            if (e.action === 'cancel') {\n            } else if (e.action === 'confirm') {\n            }\n          }\n        })\n      })\n    },\n    verification (val, isRequired, type) {\n      let emailReg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/\n      if (type === 'name') {\n        if (val.gbLength() >= 0 && val.gbLength() <= 14) {\n          return true\n        } else {\n          return false\n        }\n      }\n      if (type === 'email') {\n        return emailReg.test(val)\n      }\n      return true\n    },\n    inputBlur () {\n    },\n    inputFocus () {\n      this.errorTips = ''\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.v-user-edit {\n  width: 100%;\n  height: 100%;\n  .v-return-userinfo {\n    background-color: #f5f5f5;\n    display: block;\n    width: 100%;\n    height: 80px;\n    line-height: 80px;\n    text-align: center;\n    font-size: 32px;\n    color: #222;\n    padding: 0 30px;\n  }\n  .v-edit /deep/ {\n    width: 100%;\n    .v-content {\n      width: 100%;\n      height: 100px;\n      border-bottom: 1px solid #e2e2e2;\n      input {\n        width: 100%;\n        height: 100%;\n        border: none;\n        background-color: rgba(0, 0, 0, 0);\n        padding: 0 35px;\n        font-size: 30px;\n        color: #222;\n      }\n    }\n    .v-error {\n      padding: 0 40px;\n      height: 50px;\n      font-size: 20px;\n      color: #888;\n      height: 56px;\n      line-height: 56px;\n      .iconfont {\n        margin-right: 10px;\n        color: #fc5659;\n      }\n    }\n    .primary-button {\n      width: 570px;\n      height: 90px;\n      line-height: 90px;\n      border-radius: 45px;\n      margin: 60px auto 0;\n      display: block;\n    }\n  }\n}\n</style>\n\n","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=fe0f7e0c&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=fe0f7e0c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe0f7e0c\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/x.g/Documents/work/fe_interaction_h5/node_modules/_vue-hot-reload-api@2.3.1@vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('fe0f7e0c', component.options)\n    } else {\n      api.reload('fe0f7e0c', component.options)\n    }\n    module.hot.accept(\"./edit.vue?vue&type=template&id=fe0f7e0c&scoped=true&\", function () {\n      api.rerender('fe0f7e0c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/user/edit.vue\"\nexport default component.exports"],"sourceRoot":""}