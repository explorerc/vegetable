(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{236:function(t,a,i){},280:function(t,a,i){"use strict";var n=i(236);i.n(n).a},338:function(t,a,i){"use strict";i.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return t.activity.countDown<1800||"LIVING"===t.activity.status?n("div",{staticClass:"v-success"},[n("img",{staticClass:"v-img",attrs:{src:i(235),alt:""}}),t._v(" "),t._m(0),t._v(" "),n("button",{staticClass:"primary-button",on:{click:t.accountSubmit}},[t._v("进入直播")])]):n("div",{staticClass:"v-success"},[n("img",{staticClass:"v-img",attrs:{src:i(235),alt:""}}),t._v(" "),n("p",{staticClass:"v-success-title"},["APPOINT"===t.activity.viewCondition?n("span",[t._v("报名成功")]):"NONE"===t.activity.viewCondition?n("span",[t._v("预约成功")]):t._e()]),t._v(" "),n("p",[t._v("活动将于\n    "),n("span",{staticClass:"v-red"},[t._v(t._s(t.activity.startTime))]),t._v("准时开播")])])};n._withStripped=!0;var s=i(50),e=i.n(s),c=i(71),o=i.n(c),r=i(12),v=i.n(r),u=i(224),d=i(260),h=i(49),l=i(3),p=i(225),m=i(223),I=i(70),f={mixins:[u.a],data:function(){return{MOBILE_HOST:"//test-zhike.vhall.com/m/",activity:{viewCondition:"",status:"",startTime:"",countDown:""},user:{phone:"",isApplay:!1,isOrder:!1},vhallParams:{token:"",appId:"",channelId:"",accountId:""}}},mounted:function(){},components:{},created:function(){this.getInfo()},computed:Object(h.c)("tokenMager",{chatParams:function(t){return t.chatParams}}),watch:{},methods:v()({},Object(h.b)("tokenMager",{setChatParams:l.b}),{accountSubmit:function(){this.doAuth(this.MOBILE_HOST+"watch/"+this.$route.params.id)},initSdk:function(){this.service=new d.a,this.service.init(this.vhallParams)},handleActivityStart:function(t){this.activity.countDown=1799},getInfo:function(){var t=this;return o()(e.a.mark(function a(){return e.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$config({handlers:!0}).$get(m.a.GET_LIVEINFO,{activityId:t.$route.params.id}).then(function(a){t.activity.viewCondition=a.data.activity.viewCondition,t.activity.status=a.data.activity.status,t.activity.startTime=a.data.activity.startTime,t.activity.countDown=a.data.activity.countDown,t.user.isApplay=a.data.joinInfo.isApplay,t.user.isOrder=a.data.joinInfo.isOrder,("LIVING"===t.activity.status||t.activity.countDown<=1799)&&!a.data.viewLimit.canAppoint&&("APPOINT"===t.activity.viewCondition?a.data.joinInfo.isApplay&&t.doAuth(t.MOBILE_HOST+"watch/"+t.$route.params.id):a.data.joinInfo.isOrder&&"NONE"===t.activity.viewCondition&&t.doAuth(t.MOBILE_HOST+"watch/"+t.$route.params.id))});case 2:t.getToken();case 3:case"end":return a.stop()}},a,t)}))()},getToken:function(){var t=this;("APPOINT"===this.activity.viewCondition&&this.user.isApplay||"APPOINT"!==this.activity.viewCondition)&&(this.chatParams.token?(this.vhallParams=this.chatParams,this.$nextTick(function(){t.initSdk(),t.service.regHandler(p.a.BEGIN_LIVE,t.handleActivityStart)})):this.$config({handlers:!0}).$get(I.a.GET_USERREGACTIVITY,{activityId:this.$route.params.id}).then(function(a){t.$config({handlers:!0}).$get(m.a.GET_SDKTOKEN,{activityId:t.$route.params.id,activityUserId:a.data.activityUserId}).then(function(a){t.vhallParams.token=a.data.token,t.vhallParams.appId=a.data.appId,t.vhallParams.channelId=a.data.channelRoom,t.vhallParams.accountId=a.data.accountId,t.setChatParams(t.vhallParams),t.$nextTick(function(){t.initSdk(),t.service.regHandler(p.a.BEGIN_LIVE,t.handleActivityStart)})})}))}})},y=(i(280),i(1)),w=Object(y.a)(f,n,[function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"v-start-title"},[a("span",[this._v("直播将要开始啦")])])}],!1,null,"3ffef81c",null);w.options.__file="src/pages/guide/success.vue";a.default=w.exports}}]);
//# sourceMappingURL=6.3ab6f2c8.js.map